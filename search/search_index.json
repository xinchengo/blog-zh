{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u7b80\u4ecb","text":""},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/","title":"Conditional GAN","text":"<p>\u672c\u6587\u6b63\u5728\u7f16\u5199\u4e2d</p> <p>\u58f0\u660e</p> <p>\u7531\u4e8e\u8be5\u6587\u7ae0\u4e3a\u672c\u4eba\u5927\u4e00\u65f6\u4e3a\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u5b66\u4e60\u9700\u8981\u800c\u521b\u4f5c\u3002\u7531\u4e8e\u4f5c\u8005\u624d\u758f\u5b66\u6d45\uff0c\u5728\u4e25\u8c28\u6027\u4e0a\u53ef\u80fd\u5b58\u5728\u7f3a\u9677\u3002</p> <p>\u672c\u7bc7\u535a\u5ba2\u662f\u6211\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u7684\u4e00\u90e8\u5206\u3002\u672c\u6587\u4f5c\u4e3a\u4e2a\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\u53ef\u80fd\u4e0d\u662f\u975e\u5e38\u8be6\u7ec6\uff0c\u5177\u4f53\u8bf7\u53c2\u8003\u94fe\u63a5\u3002</p> <p>\u672c\u6587\u4ecb\u7ecd\u4e86 Conditional GAN\uff0cWasserstein \u6bd4\u8f83\u6d45\u8981\u7684\u7406\u89e3\uff0c\u4ee5\u53ca WGAN-GP (\u6dfb\u52a0\u68af\u5ea6\u60e9\u7f5a\u9879\u7684\u4e00\u79cd Wasserstein GAN) \u7684\u5b9e\u73b0\u5fc3\u5f97\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#conditional-gan_1","title":"\u4e3a\u4ec0\u4e48\u8981 Conditional GAN","text":"<ul> <li>GAN (Generative Adversarial Network\uff0c\u751f\u6210\u5f0f\u5bf9\u6297\u7f51\u7edc) \u8ba9\u6211\u4eec\u5f88\u65b9\u4fbf\u5730\u4f7f\u7528\u968f\u673a\u4fe1\u53f7\u751f\u6210\u5404\u79cd\u6570\u636e\uff08\u56fe\u7247\u3001\u89c6\u9891\u3001\u97f3\u9891\uff09\u7b49\u3002</li> <li>\u4f46\u662f\u5bf9\u4e8e\u6709\u5206\u7c7b\u7684\u6570\u636e\uff0c\u6bd4\u5982\u751f\u6210\u624b\u5199\u6570\u5b57 (0\uff5e9)\uff0c\u4e00\u4e2a\u666e\u901a\u7684 DCGAN (Deep Convolutional GAN) \u5c31\u6ca1\u6709\u529e\u6cd5\u5904\u7406\u4e86\u3002</li> <li>\u5f53\u7136\uff0c\u5bf9\u4e8e 0 \u5230 9 \u6bcf\u4e2a\u6570\u5b57\u90fd\u8bad\u7ec3\u4e00\u4e2a GAN \u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f DCGAN \u8fd8\u6709\u4e00\u4e2a\u4f18\u52bf\uff1a\u6bd4\u5982\u968f\u673a\u751f\u6210\u4e0d\u540c\u5e74\u9f84\u7684\u4eba\u50cf\u7167\u7247\uff0c\u5982\u4f55\u6307\u5b9a\u751f\u6210\u4eba\u50cf\u7684\u5e74\u9f84\u3001\u6027\u522b\u7b49\u53c2\u6570\uff1f</li> <li>\u5f53\u7136\uff0c\u6307\u5b9a\u751f\u6210\u4eba\u50cf\u7684\u5e74\u9f84\u548c\u6027\u522b\u4e5f\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\u7531\u4e8e\u751f\u6210\u7684\u56fe\u50cf\u662f\u9690\u5411\u91cf (latent vector) \u51b3\u5b9a\u7684\uff0c\u5c06\u201c\u8001\u5e74\u201d\u56fe\u7247\u7684\u9690\u5411\u91cf\u51cf\u53bb\u201c\u5a74\u513f\u201d\u56fe\u7247\u7684\u9690\u5411\u91cf\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u628a\u56fe\u7247\u6309\u8fd9\u4e2a\u65b9\u5411\u79fb\u52a8\u589e\u5927\u751f\u6210\u56fe\u7247\u7684\u201c\u5e74\u9f84\u201d\u3002</li> <li>Conditional GAN \u7684\u4f18\u52bf\u5728\u4e8e\uff1a\u53ef\u4ee5\u652f\u6301\u66f4\u591a\u7684\u5206\u7c7b\uff0c\u53ef\u4ee5\u5efa\u7acb\u53c2\u6570\u4e0e\u751f\u6210\u56fe\u50cf\u95f4\u7684\u8054\u7cfb\u3002</li> </ul>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#conditional-gan_2","title":"\u4ec0\u4e48\u662f Conditional GAN\uff1f","text":""},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#gan","title":"\u4ec0\u4e48\u662f GAN\uff1f","text":"<p>\u5177\u4f53\u53c2\u8003Goodfellow \u7b49\u4eba\u7684\u8bba\u6587\u3002</p> <p>\u5b9a\u4e49\uff1a</p> <ul> <li>\\(p_{\\boldsymbol z}(\\boldsymbol z)\\)\uff1a\u751f\u6210\u5668\u7684\u968f\u673a\u566a\u58f0</li> <li>\\(G(\\boldsymbol z;\\theta_{g})\\)\uff1a\u4e00\u4e2a\u7531\u53c2\u6570 \\(\\theta_{g}\\) \u5b9a\u4e49\u7684\u751f\u6210\u5668\uff0c\u662f\u4e00\u4e2a\u968f\u673a\u5411\u91cf\u7a7a\u95f4\u5230\u67d0\u4e2a\u7a7a\u95f4\uff08\u751f\u6210\u6570\u636e\uff09\u7684\u6620\u5c04\u3002</li> <li>\\(D(\\boldsymbol x;\\theta_{d})\\)\uff1a\u4e00\u4e2a\u7531\u53c2\u6570 \\(\\theta_{d}\\) \u5b9a\u4e49\u7684\u9274\u522b\u5668\uff0c\u662f\u4e00\u4e2a\u4ece\u67d0\u4e2a\u7a7a\u95f4\uff08\u5f85\u9274\u522b\u6570\u636e\uff09\u5230\u4e00\u4e2a \\((0,1)\\) \u5b9e\u6570\u7684\u6620\u5c04\uff0c\u8868\u793a\u201c\u8be5\u6570\u636e\u771f\u5b9e\u7684\u53ef\u80fd\u6027\u201d\u3002</li> </ul> <p>\u8981\u6c42\u89e3\u4e00\u4e2a\u6700\u4f18\u5316\u95ee\u9898\uff1a</p> \\[ \\min_G \\max_D V(D, G) = \\mathbb{E}_{\\boldsymbol{x} \\sim p_{\\text{data}}(\\boldsymbol{x})}[\\log D(\\boldsymbol{x})] + \\mathbb{E}_{\\boldsymbol{z} \\sim p_{\\boldsymbol{z}}(\\boldsymbol{z})}[\\log (1 - D(G(\\boldsymbol{z})))]. \\] <p>\u76f4\u89c2\u5730\u7406\u89e3\uff0c\u5c31\u662f\u627e\u5230\u8fd9\u6837\u4e00\u4e2a \\(G\\)\uff0c\u8ba9\u6700\u5389\u5bb3\u7684 \\(D\\) \u90fd\u5f88\u96be\u5206\u8fa8\u51fa\u5206\u8fa8\u51fa\u6570\u636e\u662f\u5426\u662f \\(G\\) \u4f2a\u9020\u7684\u3002</p> <ul> <li>\u5728\u5b9e\u8df5\u4e2d\uff0c\u5f80\u5f80\u91c7\u7528\u201c\u8bad\u7ec3\u4e00\u6b65 \\(G\\)\u201d\u2014\u2014\u201c\u8bad\u7ec3 k \u6b65 \\(D\\)\u201d\u8fd9\u6837\u7684\u8fed\u4ee3\u65b9\u6cd5\u3002</li> <li>\u5728\u8bad\u7ec3\u7684\u521d\u671f\uff0c\u7531\u4e8e\u751f\u6210\u7684\u6570\u636e\u6742\u4e71\u65e0\u7ae0\uff0c\\(D\\) \u5f88\u5bb9\u6613\u5206\u8fa8\u51fa\u5047\u7684\u6570\u636e\uff0c\u6b64\u65f6\u53ef\u4ee5\u91c7\u7528\u6700\u5927\u5316 \\(\\log(D(G(\\boldsymbol z)))\\) \u6765\u4ee3\u66ff\u6700\u5c0f\u5316 \\(\\log(1-D(G(\\boldsymbol z)))\\)\u3002</li> </ul> <p>\u8bba\u6587\u4e2d\u4f5c\u8005\u8bc1\u660e\u4e86\u8fd9\u4e2a\u6700\u4f18\u5316\u95ee\u9898\u53d6\u5f97\u6700\u5c0f\u503c\u5f53\u4e14\u4ec5\u5f53\u751f\u6210\u6570\u636e\u7684\u5206\u5e03\u7b49\u4e8e\u771f\u5b9e\u6570\u636e\u7684\u5206\u5e03\uff0c\u800c\u4e14\u8fd9\u4e2a\u51fd\u6570\u5173\u4e8e\u751f\u6210\u5668\u7684\u53c2\u6570\u662f\u51f8\u7684\uff0c\u6240\u4ee5\u4f18\u5316\u7b97\u6cd5\u53ef\u4ee5\u5f97\u5230\u6bd4\u8f83\u597d\u7684\u7ed3\u679c\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_1","title":"\u6b63\u9898","text":"<p>\u5177\u4f53\u53c2\u8003Mirza \u7684\u8bba\u6587\u3002</p> <ul> <li>\u6211\u4eec\u60f3\u8ba9 GAN \u751f\u6210\u6307\u5b9a\u5206\u7c7b\uff08\u6216\u7279\u5f81\uff09\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u751f\u6210\u5668\u4e0d\u4ec5\u8981\u63a5\u53d7\u4e00\u4e2a\u968f\u673a\u5411\u91cf\uff0c\u8fd8\u8981\u63a5\u53d7\u4e00\u4e2a\u4e0e\u5206\u7c7b\uff08\u7279\u5f81\uff09\u6709\u5173\u7684\u5411\u91cf\u3002</li> <li>\u6bd4\u5982\u8bf4\uff0c\u6211\u9700\u8981\u6307\u5b9a\u751f\u6210\u886c\u886b\u3001\u536b\u8863\u3001\u957f\u88e4\u7684\u56fe\u7247\uff0c\u8fd9\u4e2a\u751f\u6210\u5668\u4e0d\u4ec5\u8981\u63a5\u53d7\u968f\u673a\u5411\u91cf\uff0c\u8fd8\u8981\u63a5\u53d7\u662f\u4e0d\u662f\u886c\u886b\uff0c\u662f\u4e0d\u662f\u536b\u8863\uff0c\u662f\u4e0d\u662f\u957f\u88e4\u7684\u5411\u91cf\u3002\u9274\u522b\u5668\u4e5f\u63a5\u53d7\u5230\u4e86\u662f\u4e0d\u662f\u886c\u886b\uff0c\u662f\u4e0d\u662f\u536b\u8863\uff0c\u662f\u4e0d\u662f\u957f\u88e4\u7684\u8fd9\u4e2a\u5411\u91cf\u3002</li> <li>\u6240\u4ee5\uff0c\u5728 GAN \u4e2d\uff0c\u5224\u522b\u5668\u662f\u8fd9\u6837\u7684\uff1a\u201c\u8fd9\u5f20\u56fe\u7247\u597d\u50cf\u662f\u771f\u7684\u201d</li> <li>\u800c\u5728 Condition GAN \u4e2d\uff1a\u201c\u90a3\u4eba\u544a\u8bc9\u6211\u8fd9\u5f20\u56fe\u7247\u662f\u886c\u886b\uff0c\u4f46\u5b83\u4e0d\u50cf\uff0c\u6240\u4ee5\u662f\u5047\u7684\u201d</li> </ul> <p>\u5f62\u5f0f\u5316\u5730\uff0c\u6211\u4eec\u8981\u6539\u53d8\u4e00\u4e9b\u5b9a\u4e49\uff1a</p> <ul> <li>\\(G(\\boldsymbol z|\\boldsymbol y;\\theta_{g})\\)\uff1a\u4e00\u4e2a\u7531\u53c2\u6570 \\(\\theta_{g}\\) \u5b9a\u4e49\u7684\u751f\u6210\u5668\uff0c\\(\\boldsymbol z\\) \u662f\u968f\u673a\u5411\u91cf\uff0c\\(\\boldsymbol y\\) \u662f\u9644\u52a0\u4fe1\u606f\u3002</li> <li>\\(D(\\boldsymbol x|\\boldsymbol y;\\theta_{d})\\)\uff1a\u4e00\u4e2a\u7531\u53c2\u6570 \\(\\theta_{d}\\) \u5b9a\u4e49\u7684\u9274\u522b\u5668\uff0c\\(\\boldsymbol x\\) \u662f\u5f85\u9274\u522b\u6570\u636e\uff0c\\(\\boldsymbol y\\) \u662f\u9644\u52a0\u4fe1\u606f\u3002</li> </ul> <p>\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u8981\u6700\u4f18\u5316\u7684\u662f\uff1a</p> \\[ \\min_G \\max_D V(D, G) = \\mathbb{E}_{\\boldsymbol{x} \\sim p_{\\text{data}}(\\boldsymbol{x})}[\\log D(\\boldsymbol{x})] + \\mathbb{E}_{\\boldsymbol{z} \\sim p_{\\boldsymbol{z}}(\\boldsymbol{z})}[\\log (1 - D(G(\\boldsymbol{z})))]. \\]"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_2","title":"\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898","text":"<p>\u6211\u6309\u7167 Keras \u7f51\u7ad9\u4e0a\u7684\u6559\u7a0b\u4e66\u5199\u4e86\u4e00\u4e2a Conditional GAN \u7528\u4e8e\u6a21\u4eff SPOTS-10 \u7684\u56fe\u7247\uff0c\u7528\u4e8e\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u7684\u8bfe\u9898\uff0c\u7136\u800c\u8bad\u7ec3\u7684\u6548\u679c\u5374\u4e0d\u5c3d\u5982\u4eba\u610f\u2014\u2014\u9274\u522b\u5668\u7684\u635f\u5931\u51fd\u6570\u5f00\u59cb\u6536\u655b\u5230 0\uff0c\u751f\u6210\u5668\u7684\u635f\u5931\u51fd\u6570\u5f00\u59cb\u53d1\u6563\u5230\u6b63\u65e0\u7a77\u3002</p> <p>\u6211\u5c1d\u8bd5\u7528\u201c\u6682\u65f6\u9501\u4f4f\u9274\u522b\u5668\u201d\u7684\u65b9\u6cd5\u8bad\u7ec3\u82e5\u5e72\u8f6e\u7684\u65b9\u6cd5\uff0c\u8ba9\u751f\u6210\u5668\u7684\u503c\u6062\u590d\u6b63\u5e38\uff0c\u4e4b\u540e\u5728\u8fdb\u884c\u4e86\u51e0\u767e\u8f6e\u7684\u8bad\u7ec3\uff0c\u4f46\u662f\u7ed3\u679c\u5c31\u662f\u751f\u6210\u4e86\u4e00\u6279\u7070\u8499\u8499\u3001\u6a21\u7cca\u4e0d\u6e05\u7684\u56fe\u50cf\uff0c\u635f\u5931\u51fd\u6570\u662f\u6536\u655b\u7684\uff0c\u4f46\u6536\u655b\u7684\u503c\u5e76\u4e0d\u662f\u4e00\u4e2a\u6700\u4f18\u89e3\u3002</p> <p>Update\uff1a</p> <ul> <li>\u7531\u4e8e SPOTS-10 \u7684\u6570\u636e\u662f \\(32\\times 32\\)\uff0c\u800c MNIST \u7684\u6570\u636e\u662f \\(28\\times 28\\) \u7684\uff0c\u6240\u4ee5\u5728\u628a\u9002\u7528 MNIST \u7684\u4ee3\u7801\u4fee\u6539\u6210 SPOTS-10 \u7684\u7248\u672c\u65f6\uff0c\u6211\u6539\u52a8\u4e86\u9274\u522b\u5668\u548c\u751f\u6210\u5668\u7684\u7ed3\u6784\u3002\u5728\u8be5\u6b21\u8bad\u7ec3\u4e2d\uff0c\u635f\u5931\u51fd\u6570\u53d1\u6563\u4e86\uff0c</li> <li>\u4e4b\u540e\u6211\u53c8\u5c1d\u8bd5\u4e86\u628a \\(32\\times 32\\) \u7684\u56fe\u7247\u88c1\u526a\u6210 \\(28\\times 28\\)\uff0c\u518d\u5728\u4e0d\u6539\u52a8\u7ed3\u6784\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u8bad\u7ec3\u3002\u8fd9\u6b21\u8bad\u7ec3\u4e2d\uff0c\u635f\u5931\u51fd\u6570\u6536\u655b\u4e86\uff0c\u4f46\u662f\u6ca1\u6709\u6536\u655b\u5230\u6700\u4f18\u89e3\u3002</li> </ul>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#wasserstein-gan","title":"Wasserstein GAN","text":"<p>\u4ee5\u4e0b\u662f\u6211\u8bfbArjovsky \u7b49\u4eba\u7684\u539f\u8bba\u6587\u7684\u7b14\u8bb0</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_3","title":"\u5f15\u5165","text":"<p>\u6839\u636e Google \u7684\u6559\u7a0b\uff0cGAN \u7684\u8bad\u7ec3\u5e38\u5e38\u9047\u5230\u4e09\u7c7b\u95ee\u9898\uff1a</p> <ul> <li>\u68af\u5ea6\u6d88\u5931 (vanishing gradients)\uff1a\u751f\u6210\u5668\u4e0d\u77e5\u9053\u600e\u4e48\u8c03\u6574\u2014\u2014\u5f53\u9274\u522b\u5668\u592a\u597d\uff0c\u751f\u6210\u5668\u7684\u53c2\u6570\u4e0d\u7ba1\u5f80\u4ec0\u4e48\u65b9\u5411\u8c03\u6574\u4e00\u70b9\u70b9\uff0c\u90fd\u4e0d\u4f1a\u6539\u53d8\u5b83\u5728\u9274\u522b\u5668\u773c\u4e2d\u7684\u771f\u5b9e\u7a0b\u5ea6\u65f6\uff0c\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u3002</li> <li>\u6a21\u5f0f\u574d\u7f29 (mode collapse)\uff1a\u751f\u6210\u5668\u53ea\u77e5\u9053\u51fa\u51e0\u5f20\u724c\uff0c\u800c\u4e0d\u662f\u751f\u6210\u968f\u673a\u56fe\u7247\uff1b</li> <li>\u65e0\u6cd5\u6536\u655b (failure to converge)\uff1a\u635f\u5931\u51fd\u6570\u53d1\u6563</li> </ul> <p>Wasserstein GAN \u65e8\u5728\u89e3\u51b3\u7684\u5c31\u662f\u68af\u5ea6\u6d88\u5931\u548c\u6a21\u5f0f\u574d\u7f29\u8fd9\u4e24\u4e2a\u95ee\u9898\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_4","title":"\u6982\u7387\u5bc6\u5ea6\u65b9\u6cd5\u4e0e\u53c2\u6570\u5316\u65b9\u6cd5","text":"<p>\u4ee5\u4e0b\u90e8\u5206\u5185\u5bb9\u4f7f\u7528 Deepseek \u7ffb\u8bd1</p> <p>\u7531\u4e8e\u672c\u4eba\u5bf9\u4e00\u4e9b\u6570\u5b66\u540d\u8bcd\u7684\u6b63\u786e\u7ffb\u8bd1\u5e76\u4e0d\u719f\u6089\uff0c\u4ee5\u4e0b\u90e8\u5206\u5185\u5bb9\u4f7f\u7528 DeepSeek \u7ffb\u8bd1\u3002\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u540d\u8bcd\u4e0a\u7684\u4e0d\u4e25\u8c28\u3002</p> <p>\u4f20\u7edf\u7684\u65e0\u76d1\u7763\u5b66\u4e60\u65b9\u6cd5\u5f80\u5f80\u662f\u53bb\u5b66\u4e60\u4e00\u4e2a\u672a\u77e5\u7684\u6982\u7387\u5bc6\u5ea6 (probability density)\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u7ed9\u5b9a\u4e00\u7ec4\u771f\u5b9e\u6570\u636e\u7684\u6837\u672c \\(\\{x^{(i)}\\}^m_{i=1}\\)\uff0c\u4f20\u7edf\u65b9\u6cd5\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u53c2\u6570\u5316\u7684\u5bc6\u5ea6\u65cf (parametric family of densities) \\((P_{\\theta})_{\\theta\\in\\mathbb R^d}\\)\uff0c\u5e76\u5bfb\u627e\u80fd\u6700\u5927\u5316\u6570\u636e\u4f3c\u7136 (likelihood) \u7684\u53c2\u6570\uff1a</p> \\[ \\max_{\\theta\\in\\mathbb R^d}\\frac{1}{m}\\sum_{i=1}^m\\log P_{\\theta}(x^{(i)}) \\] <p>\u5982\u679c\u771f\u5b9e\u6570\u636e\u5206\u5e03 \\(\\mathbb P_r\\) \u5b58\u5728\u5bc6\u5ea6\uff0c\u800c \\(\\mathbb P_{\\theta}\\) \u662f\u53c2\u6570\u5316\u5bc6\u5ea6 \\(\\mathbb P_{\\theta}\\) \u5bf9\u5e94\u7684\u5206\u5e03\uff0c\u90a3\u4e48\u5728\u5927\u6837\u672c\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u7b49\u4ef7\u4e8e\u6700\u5c0f\u5316 Kullback-Leibler \u6563\u5ea6 (Kullback-Leibler divergence) \\(KL(\\mathbb P_r||\\mathbb P_{\\theta})\\)\u3002</p> <p>\u7136\u800c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u7684\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u662f\uff0c\u6a21\u578b\u5bc6\u5ea6 \\(P_\\theta\\) \u5fc5\u987b\u5b58\u5728\u3002\u5728\u8bb8\u591a\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u5206\u5e03 \\(\\mathbb{P}_r\\) \u662f\u7531\u4f4e\u7ef4\u6d41\u5f62 (manifold) \u652f\u6491\u7684\uff08\u4f8b\u5982\uff0c\u56fe\u50cf\u6570\u636e\u901a\u5e38\u4f4d\u4e8e\u9ad8\u7ef4\u50cf\u7d20\u7a7a\u95f4\u4e2d\u7684\u4f4e\u7ef4\u6d41\u5f62\u4e0a\uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6a21\u578b\u6d41\u5f62\u548c\u771f\u5b9e\u5206\u5e03\u7684\u652f\u6491\u96c6 (support) \u4e0d\u592a\u53ef\u80fd\u6709\u663e\u8457\u7684\u4ea4\u96c6\uff0c\u8fd9\u610f\u5473\u7740 KL \u6563\u5ea6\u53ef\u80fd\u6ca1\u6709\u5b9a\u4e49\uff08\u6216\u8005\u4e3a\u65e0\u7a77\u5927\uff09\u3002</p> <p>\u4e0e\u5176\u53bb\u4f30\u8ba1 \\(\\mathbb P_r\\) \u7684\u5bc6\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u968f\u673a\u53d8\u91cf \\(Z\\)\uff0c\u5b83\u5177\u6709\u56fa\u5b9a\u7684\u5206\u5e03 \\(p(z)\\)\uff0c\u5e76\u901a\u8fc7\u4e00\u4e2a\u53c2\u6570\u5316\u51fd\u6570 \\(g_\\theta: \\mathcal{Z} \\rightarrow \\mathcal{X}\\)\uff08\u901a\u5e38\u662f\u67d0\u79cd\u795e\u7ecf\u7f51\u7edc\uff09\u76f4\u63a5\u751f\u6210\u6837\u672c\uff0c\u4ece\u800c\u751f\u6210\u67d0\u79cd\u5206\u5e03 \\(\\mathbb{P}_\\theta\\)\u3002\u901a\u8fc7\u8c03\u6574 \\(\\theta\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u5206\u5e03\uff0c\u4f7f\u5176\u63a5\u8fd1\u771f\u5b9e\u6570\u636e\u5206\u5e03 \\(\\mathbb{P}_r\\)\u3002\u8fd9\u79cd\u65b9\u6cd5\u6709\u4e24\u4e2a\u4f18\u70b9\uff1a\u9996\u5148\uff0c\u4e0e\u5bc6\u5ea6\u4e0d\u540c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u8868\u793a\u5c40\u9650\u4e8e\u4f4e\u7ef4\u6d41\u5f62\u4e0a\u7684\u5206\u5e03\uff1b\u5176\u6b21\uff0c\u751f\u6210\u6837\u672c\u7684\u80fd\u529b\u901a\u5e38\u6bd4\u77e5\u9053\u5bc6\u5ea6\u7684\u6570\u503c\u66f4\u6709\u7528\u3002</p> <p>\u53d8\u5206\u81ea\u7f16\u7801\u5668 (Variational Auto-Encoders, VAEs) \u548c\u751f\u6210\u5bf9\u6297\u7f51\u7edc\u90fd\u662f\u540e\u8005\u7684\u8457\u540d\u4f8b\u5b50\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#gan_1","title":"\u8ddd\u79bb\u7684\u9009\u62e9\u5728 GAN \u4e2d\u7684\u91cd\u8981\u6027","text":"<p>\u5bf9\u4e8e GAN\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u5404\u79cd\u8ddd\u79bb\u4f5c\u4e3a\u76ee\u6807\u51fd\u6570\uff0c\u5305\u62ec Jensen-Shannon \u6563\u5ea6\uff0c\u6240\u6709 \\(f\\)-\u6563\u5ea6\uff0c\u4ee5\u53ca\u4e00\u4e9b\u5947\u7279\u7684\u7ec4\u5408\u3002</p> <p>Arjovsky \u7b49\u4eba\u7684\u539f\u8bba\u6587\u63a2\u8ba8\u7684\u5c31\u662f\u8861\u91cf\u6a21\u578b\u5206\u5e03\u548c\u771f\u5b9e\u5206\u5e03\u63a5\u8fd1\u7a0b\u5ea6\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u8bf4\uff0c\u5982\u4f55\u5b9a\u4e49\u5206\u5e03\u4e4b\u95f4\u7684\u8ddd\u79bb\u6216\u6563\u5ea6 \\(\\rho(\\mathbb P_{\\theta},\\mathbb P_r)\\)\u3002\u8fd9\u4e9b\u8ddd\u79bb\u7684\u6700\u6839\u672c\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u5bf9\u6982\u7387\u5206\u5e03\u5e8f\u5217\u655b\u6563\u6027\u7684\u5f71\u54cd\u3002\u4e00\u4e2a\u5206\u5e03\u5e8f\u5217 \\((\\mathbb P_t)_{t\\in\\mathbb N}\\) \u6536\u655b\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u4e00\u4e2a\u5206\u5e03 \\(\\mathbb P_{\\infty}\\)\uff0c\u4f7f\u5f97 \\(\\rho(\\mathbb P_t,\\mathbb P_{\\infty})\\) \u8d8b\u8fd1\u4e8e \\(0\\)\uff0c\u8fd9\u53d6\u51b3\u4e8e\u8ddd\u79bb \\(\\rho\\) \u7684\u5177\u4f53\u5b9a\u4e49\u3002\u975e\u6b63\u5f0f\u5730\u8bf4\uff0c\u5f53\u8ddd\u79bb \\(\\rho\\) \u4f7f\u5f97\u5206\u5e03\u5e8f\u5217\u66f4\u5bb9\u6613\u6536\u655b\u65f6\uff0c\u5b83\u8bf1\u5bfc\u7684\u62d3\u6251\u7ed3\u6784 (topology) \u66f4\u5f31\u3002</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u4f18\u5316\u6a21\u578b\u7684\u53c2\u53c2\u6570\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a\u6a21\u578b\u80fd\u591f\u8ba9 \\(\\theta \\mapsto \\mathbb P_{\\theta}\\) \u8fd9\u4e2a\u6620\u5c04\u8fde\u7eed\uff0c\u5373\uff0c\u5bf9\u4e8e\u6240\u6709\u6536\u655b\u4e8e \\(\\theta\\) \u7684\u5b50\u5217 \\(\\left\\{\\theta_t\\right\\}\\) \u90fd\u6ee1\u8db3 \\(\\left\\{\\mathbb P_{\\theta_t}\\right\\}\\) \u6536\u655b\u4e8e \\(\\mathbb P_{\\theta}\\)\u3002\u4f46\u662f\uff0c\u522b\u5fd8\u4e86\uff0c\\(\\left\\{\\mathbb P_{\\theta_t}\\right\\}\\) \u662f\u5426\u6536\u655b\u53d6\u51b3\u4e0e\u6211\u4eec\u4f7f\u7528\u7684\u662f\u4ec0\u4e48\u8ddd\u79bb\u3002\u8ddd\u79bb\u8d8a\u5f31\uff0c\u8fd9\u4e2a\u5206\u5e03\u7684\u5e8f\u5217\u5c31\u8d8a\u5bb9\u6613\u6536\u655b\uff0c\u4e8b\u5b9e\u4e0a\uff0c\\(\\rho\\) \u8bf1\u5bfc\u62d3\u6251\u7ed3\u6784\u5f3a\u5f31\u5c31\u662f\u7531\u6536\u655b\u5e8f\u5217\u96c6\u5408\u7684\u5173\u7cfb\u5b9a\u4e49\u7684\u3002</p> <p>Wasserstein GAN \u6700\u5c0f\u5316\u7684\u76ee\u6807\u5c31\u662f\uff08\u8fd1\u4f3c\u7684\uff09Wasserstein \u8ddd\u79bb\uff0c\u8fd9\u662f\u5b83\u5404\u79cd\u4f18\u70b9\u7684\u6765\u6e90\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_5","title":"\u4e00\u7ef4\u60c5\u5f62\u4e0b\u7684\u4e0d\u540c\u8ddd\u79bb","text":"<p>\u7531\u4e8e\u6211\u7684\u6570\u5b66\u77e5\u8bc6\u79ef\u7d2f\u8fd8\u6bd4\u8f83\u6709\u9650\uff0c\u5bf9\u8fd9\u4e9b\u7279\u6b8a\u7684\u6570\u5b66\u7b26\u53f7\u8fd8\u4e0d\u591f\u719f\u6089\uff0c\u6240\u4ee5\u5c06\u8003\u8651\u7b80\u5355\u60c5\u51b5\u4e0b\u8fd9\u4e9b\u8ddd\u79bb\u7684\u5b9a\u4e49\u3002</p> <ol> <li> <p>\u603b\u53d8\u5dee\u8ddd\u79bb (Total Variation, TV)\uff1a</p> <p>\u5982\u679c \\(\\mathbb P,\\mathbb Q\\) \u8fd9\u4e24\u4e2a\u5206\u5e03\u6709\u7740\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p,q\\)\uff0c\u90a3\u4e48\u5b83\u4eec\u7684\u603b\u53d8\u5dee\u8ddd\u79bb\u5b9a\u4e49\u4e3a\uff1a</p> \\[ \\delta(\\mathbb P,\\mathbb Q)=\\frac{1}{2}\\int_{-\\infty}^{+\\infty} |p(x)-q(x)|\\mathrm dx \\] <p>\u4ece\u76f4\u89c2\u4e0a\u7406\u89e3\uff0c\u5982\u679c\u628a \\(y=p(x),y=q(x)\\) \u753b\u51fa\u6765\uff0c\u5b83\u4eec\u7684\u603b\u53d8\u5dee\u8ddd\u79bb\u5c31\u662f\u4e24\u4e2a\u51fd\u6570\u4e4b\u95f4\u5305\u56f4\u7684\u9762\u79ef\u3002\u5728\u540e\u9762\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u53c8\u8bb0 \\(\\delta(\\mathbb P,\\mathbb Q)=||\\mathbb P - \\mathbb Q||_{TV}\\)\u3002</p> </li> <li> <p>Kullback-Leibler \u6563\u5ea6 (KL)\uff1a</p> <p>\u5982\u679c \\(\\mathbb P,\\mathbb Q\\) \u8fd9\u4e24\u4e2a\u5206\u6570\u6709\u7740\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p,q\\)\uff0c\u90a3\u4e48 Q \u5230 P \u7684\u76f8\u5bf9\u71b5\uff08\u5373 KL \u6563\u5ea6\uff09\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[ \\begin{aligned} D_{KL}(\\mathbb P||\\mathbb Q)&amp;=\\int_{-\\infty}^{+\\infty}p(x)\\log\\left(\\frac{p(x)}{q(x)}\\right)\\mathrm dx \\\\ &amp;=\\mathbb E_{x\\sim \\mathbb P}\\left[\\log\\frac{p(x)}{q(x)}\\right] \\end{aligned} \\] <p>\u5728\u8fd9\u4e2a\u5b9a\u4e49\u4e0b\uff0cKL \u6563\u5ea6\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u90fd\u4e0d\u5b58\u5728\uff0c\u800c\u4e14\u5373\u4f7f\u5b58\u5728\u4e5f\u5f88\u53ef\u80fd\u4e0d\u662f\u5bf9\u79f0\u7684\uff08\u8003\u8651 \\(\\exists x,q(x)=0\\)\uff09\u3002\u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u6563\u5ea6\u53d8\u5f97\u5bf9\u79f0\uff0c\u6211\u4eec\u53c8\u5b9a\u4e49\u4e86\u4e00\u4e2aJensen-Shannon \u6563\u5ea6\uff0c\u5373\uff1a</p> \\[ \\begin{gather*} D_{JS}(\\mathbb P||\\mathbb Q)=D_{KL}(\\mathbb P||\\mathbb M)+D_{KL}(\\mathbb Q||\\mathbb M)\\\\ M=(\\mathbb P+\\mathbb Q)/2 \\end{gather*} \\] </li> <li> <p>\u52a8\u571f\u8005\u8ddd\u79bb (Earth Mover's distance, EMD)\uff1a</p> <p>\u5982\u679c \\(\\mathbb P,\\mathbb Q\\) \u8fd9\u4e24\u4e2a\u5206\u5e03\u6709\u7740\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p,q,P(x)=\\int_{-\\infty}^xp(t)\\mathrm dt,Q(x)=\\int_{-\\infty}^q(t)\\mathrm dt\\)\uff0c\u5219\u5b83\u4eec\u7684\u52a8\u571f\u8005\u8ddd\u79bb\u4e3a\uff1a</p> \\[ W_1(\\mathbb P,\\mathbb Q)=\\int_{-\\infty}^{\\infty}|P(x)-Q(x)|\\mathrm dx \\] <p>\u52a8\u571f\u8005\u8ddd\u79bb\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0a\u7684\u79f0\u8c13\uff0c\u5728\u6570\u5b66\u9886\u57df\uff0c\u4e00\u822c\u628a\u8fd9\u79cd\u8ddd\u79bb\u79f0\u4e3a Wasserstein-1 \u8ddd\u79bb\u6216\u8005 Kantorovich\u2013Rubinstein \u8ddd\u79bb\u3002\u4ece\u76f4\u89c2\u4e0a\u7406\u89e3\uff0c\u5982\u679c\u628a \\(y=p(x),y=q(x)\\) \u7684\u56fe\u50cf\u753b\u51fa\u6765\uff0c\u52a8\u571f\u8005\u8ddd\u79bb\u5c31\u76f8\u5f53\u4e8e\u628a \\(p(x)\\) \u201c\u642c\u8fd0\u201d\u6210 \\(q(x)\\) \u6700\u5c0f\u9700\u8981\u8017\u8d39\u7684\u4ee3\u4ef7\uff08\u53ea\u8ba1\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\uff09\u3002</p> </li> </ol>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_6","title":"\u4e0d\u540c\u8ddd\u79bb\u7684\u5f3a\u5f31","text":""},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#1","title":"\u5b9a\u7406 1","text":"<p>\u8bb0 \\(\\mathbb P\\) \u662f\u4e00\u4e2a\u4e00\u7ef4\u7684\u6982\u7387\u5206\u5e03\uff0c\\(\\left\\{\\mathbb P_n\\right\\}\\) \u662f\u4e00\u4e2a\u6982\u7387\u5206\u5e03\u7684\u5e8f\u5217\uff0c\\(\\mathbb P\\) \u6709\u7740\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p\\)\uff0c\\(\\mathbb P_i\\) \u6709\u7740\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p_i\\)\uff0c\u5219\uff0c\u8003\u8651\u5b83\u4eec\u5728 \\(n\\to\\infty\\) \u7684\u6781\u9650\uff1a</p> <ol> <li>\u4ee5\u4e0b\u4e24\u4e2a\u547d\u9898\u7b49\u4ef7\uff1a<ul> <li>\\(\\delta(\\mathbb P_n,\\mathbb P)\\to 0\\)</li> <li>\\(D_{JS}(\\mathbb P_n,\\mathbb P)\\to 0\\)</li> </ul> </li> <li>\u4ee5\u4e0b\u4e24\u4e2a\u547d\u9898\u7b49\u4ef7\uff1a<ul> <li>\\(W_1(\\mathbb P_n,\\mathbb P)\\to 0\\)</li> <li>\\(\\mathbb P_n\\xrightarrow{\\mathcal D}\\mathbb P\\)\uff0c\u5176\u4e2d \\(\\xrightarrow{\\mathcal D}\\) \u4ee3\u8868\u4f9d\u5206\u5e03\u6536\u655b (convergence in distribution)\uff0c\u5373\uff0c\\(p_n(x)\\) \u9010\u70b9\u6536\u655b\u4e8e \\(p(x)\\)</li> </ul> </li> <li>\u82e5 \\(D_{KL}(\\mathbb P_n||\\mathbb P)\\to 0\\) \u6216 \\(D_{KL}(\\mathbb P_n||\\mathbb P)\\to 0\\)\uff0c\u5219 1 \u4e2d\u547d\u9898\u6210\u7acb\u3002</li> <li>\u82e5 1 \u4e2d\u547d\u9898\u6210\u7acb\uff0c\u5219 2 \u4e2d\u547d\u9898\u6210\u7acb\u3002</li> </ol> <p>\u4e3a\u4e86\u5b9a\u7406\u8bc1\u660e\u7684\u65b9\u4fbf\uff0c\u6211\u4eec\u589e\u52a0 \\(p,p_i\\) \u5728 \\(\\mathbb R\\) \u4e0a\u53ef\u79ef\u7684\u6761\u4ef6\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#1_1","title":"\u8bc1\u660e 1","text":"<ol> <li> <p>\\((\\delta(\\mathbb P_n,\\mathbb P)\\Rightarrow D_{JS}(\\mathbb P_n,\\mathbb P)\\to 0):\\)</p> <p>\u8bb0 \\(\\mathbb P_m=\\frac{1}{2}\\mathbb P_n+\\frac{1}{2}\\mathbb P\\)\uff08\u6ce8\u610f\u8fd9\u4e2a \\(\\mathbb P_m\\) \u548c \\(Pn\\) \u662f\u6709\u5173\u7684\uff09\uff0c\u5219\uff1a</p> \\[ \\begin{aligned} \\delta(\\mathbb P_m,\\mathbb P_n) &amp;= ||\\mathbb P_m - \\mathbb P_n||_{TV}\\\\ &amp;= ||\\frac{1}{2}\\mathbb P+\\frac{1}{2}\\mathbb P_n-\\mathbb P_n||_{TV}\\\\ &amp;= \\frac{1}{2}||\\mathbb P-\\mathbb P_n||_{TV}\\\\ &amp;= \\frac{1}{2}\\delta(\\mathbb P_n,\\mathbb P) \\le \\delta(\\mathbb P_n, \\mathbb P) \\end{aligned} \\] <p>\u6b64\u5904\u8bc1\u660e\u5f85\u5b8c\u6210</p> </li> </ol>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#em","title":"\u5982\u4f55\u4f7f\u7528 EM \u8ddd\u79bb","text":"<p>\u4ee5\u4e0a\u7684\u5b9a\u7406\u4f7f\u7528\u6d4b\u5ea6\u8bba\u7684\u77e5\u8bc6\uff0c\u53ef\u4ee5\u6269\u5c55\u5230\u66f4\u9ad8\u7ef4\u5ea6\u7684\u60c5\u5f62\u4e0b\u4ecd\u7136\u6210\u7acb\u3002\u6240\u4ee5\uff0c\u5728 GAN \u7684\u8bad\u7ec3\u4e2d\uff0c\u4f7f\u7528 Wasserstein-1 \u8ddd\u79bb\u6bd4\u8d77 Kullback-Leibler \u6563\u5ea6\u663e\u7136\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u9009\u62e9\u3002\u73b0\u5728\u7684\u95ee\u9898\u5c31\u662f\uff0c\u5982\u4f55\u8bad\u7ec3\u4e00\u4e2a GAN \u4f7f\u5f97\u5b83\u8fd1\u4f3c\u5730\u8ba9 Wasserstein-1 \u8ddd\u79bb\u8fbe\u5230\u6700\u5c0f\u3002</p> <p>\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4e0a\u6587\u4e2d Wasserstein-1 \u8ddd\u79bb\u7684\u5b9a\u4e49\u53ef\u4ee5\u6269\u5c55\u4e3a\uff1a(Kantorovich-Rubinstein \u5bf9\u5076\u6027)</p> \\[ W_1(\\mathbb P_r,\\mathbb P_{\\theta}) = \\sup_{||f||_L\\le 1}\\mathbb E_{x\\sim\\mathbb P_r}[f(x)]-\\mathbb E_{x\\sim\\mathbb P_{\\theta}}[f(x)] \\] <p>\u5176\u4e2d \\(||f||_{L}\\le 1\\) \u8868\u793a \\(f\\) \u7b26\u5408 1-Lipschitz \u6761\u4ef6\uff0c\u6240\u4ee5\uff0c\u5982\u679c\u6211\u4eec\u6709\u7b26\u5408 K-Lipschitz \u6761\u4ef6\u7684\u53c2\u6570\u5316\u51fd\u6570\u65cf \\(\\left\\{ f_{w}\\right\\}_{w\\in\\mathcal W}\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u6700\u5927\u5316\uff1a</p> \\[ \\max_{w \\in \\mathcal W}\\mathbb E_{x\\sim\\mathbb P_r}[f_{w}(x)]-\\mathbb E_{x\\sim p(x)}[f_{w}(g_{\\theta}(z))] \\] <p>\u4ee5\u8fd9\u4e2a\u4f5c\u4e3a\u76ee\u6807\u51fd\u6570\uff0c\u5c31\u76f8\u5f53\u4e8e\u8ba9 Wasserstein \u8ddd\u79bb\u8fbe\u5230\u6700\u5c0f\u2014\u2014\u4f46\u662f\uff0c\u524d\u63d0\u662f\u8981\u4fdd\u8bc1\u9274\u522b\u5668\u7684\u795e\u7ecf\u7f51\u7edc\u80fd\u591f Lipschitz \u8fde\u7eed\u3002\u5173\u4e8e\u5982\u4f55\u8ba9\u9274\u522b\u5668\u7684\u795e\u7ecf\u7f51\u7edc Lipschitz \u8fde\u7eed\u662f\u4e00\u4e2a\u503c\u5f97\u5355\u72ec\u62ff\u51fa\u6765\u8ba8\u8bba\u7684\u8bdd\u9898\u3002\u5728\u539f\u8bba\u6587\u4e2d\uff0c\u4f5c\u8005\u7684\u505a\u6cd5\u662f\u628a\u8fb9\u6743\u7ea6\u675f\u5728\u4e00\u4e2a\u6307\u5b9a\u7684\u533a\u95f4\u5185\u3002\u4e0d\u8fc7\uff0c\u540e\u6765\u4e5f\u51fa\u73b0\u4e86\u6548\u679c\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\uff0c\u4e0b\u9762\u4ecb\u7ecd\u7684 WGAN-GP \u6240\u7528\u7684\u5c31\u662f\u589e\u6dfb\u4e00\u4e2a\u201c\u68af\u5ea6\u60e9\u7f5a\u201d (gradient penalty) \u9879\u2014\u2014\u5373\uff0c\u4fdd\u8bc1\u751f\u6210\u5668\u7684 L2 \u8303\u6570 (norm) \u63a5\u8fd1 1\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#wgan-gp","title":"WGAN-GP \u7684\u5b9e\u73b0","text":"<p>\u672c\u6587\u53c2\u8003 Keras \u5b98\u7f51\u7684\u6559\u7a0b</p> <p>\u672c\u6587\u53ea\u8bb0\u5f55\u4f5c\u8005\u5728\u5b9e\u73b0 WGAN-GP \u8fc7\u7a0b\u4e2d\u7684\u4e00\u4e9b\u60f3\u6cd5\u548c\u4f53\u4f1a\uff0c\u4ee5\u53ca\u5728\u5b9e\u73b0\u4e0a\u4e0e\u539f\u6559\u7a0b\u4e0d\u540c\u7684\u5730\u65b9\u3002\u539f\u6559\u7a0b\u662f\u4e00\u7bc7\u975e\u5e38\u4f18\u79c0\u7684\u6559\u7a0b\uff0c\u5982\u679c\u60f3\u8981\u7cfb\u7edf\u5730\u5b66\u4e60\u5982\u4f55\u5b9e\u73b0 WGAN-GP\uff0c\u5efa\u8bae\u4ece\u539f\u6559\u7a0b\u800c\u4e0d\u662f\u6211\u6d45\u8584\u7684\u89c1\u89e3\u5165\u624b\u3002</p> <p>\u5728\u8bba\u6587\u7b2c 4 \u8282\uff0c\u4f5c\u8005\u5728\u76ee\u6807\u51fd\u6570\u4e2d\u52a0\u5165\u4e86\u4e00\u9879\u201c\u68af\u5ea6\u635f\u5931\u201d\uff0c\u5373\uff1a</p> \\[ L=\\mathbb E_{\\tilde{\\boldsymbol{x}}\\sim\\mathbb P_g}[D(\\tilde{\\boldsymbol{x}})]-\\mathbb E_{\\boldsymbol{x}\\sim\\mathbb P_r}[D(\\boldsymbol{x})]+\\lambda\\mathbb E_{\\hat{\\boldsymbol{x}}\\sim\\mathbb P_{\\hat{\\boldsymbol{x}}}}\\left[(||\\nabla_{\\hat{\\boldsymbol{x}}}D(\\hat{\\boldsymbol{x}}||_2-1)^2\\right] \\] <p>\u5176\u4e2d\u8fd9\u4e2a \\(\\hat{\\boldsymbol{x}}\\) \u662f\u4e00\u4e2a\u968f\u673a\u7684\u5728\u771f\u5b9e\u548c\u865a\u5047\u7167\u7247\u4e2d\u63d2\u503c\u5f97\u5230\u7684\u7167\u7247\u3002</p>"},{"location":"ai/20250126-%E6%8E%A2%E7%A7%98%20Conditional%20GAN%20%E4%B9%8B%E5%8E%9F%E7%90%86/#_7","title":"\u603b\u7ed3","text":"<ul> <li>Conditonal GAN\uff1a\u548c\u4e00\u822c\u7684 GAN \u4e00\u6837\uff0c\u4f46\u662f\u5728\u751f\u6210\u5668\u548c\u9274\u522b\u5668\u7684\u8f93\u5165\u4e2d\u52a0\u5165\u9644\u52a0\u4fe1\u606f\u3002</li> <li>Wasserstein GAN\uff1a<ul> <li>\u4f20\u7edf\u7684 GAN \u8bad\u7ec3\u7684\u76ee\u6807\u51fd\u6570\u76f8\u5f53\u4e8e\u8ba9\u751f\u6210\u5668\u5206\u5e03\u4e0e\u771f\u5b9e\u5206\u5e03\u7684 Kullback-Leibler \u6563\u5ea6\u6700\u5c0f\u3002</li> <li>\u4f46\u662f Kullback-Leibler \u6563\u5ea6\u662f\u4e00\u4e2a\u5f88\u5f3a\u7684\u8ddd\u79bb\uff0c\u5b9e\u8df5\u4e2d\u5f88\u96be\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\u3002</li> <li>\u4f7f\u7528 Wasserstein-1 \u8ddd\u79bb\u4f5c\u4e3a\u66ff\u4ee3\u4f1a\u8ba9\u8bad\u7ec3\u7b80\u5355\u5f88\u591a\u3002</li> <li>\u5b9e\u8df5\u4e0a\uff0c\u9700\u8981\u5728\u6539\u53d8\u76ee\u6807\u51fd\u6570\u7684\u540c\u65f6\uff0c\u4fdd\u969c\u9274\u522b\u5668\u7684\u795e\u7ecf\u7f51\u7edc\u7b26\u5408 Lipschitz \u6761\u4ef6\u3002</li> </ul> </li> </ul>"},{"location":"ai/20250127-KerasTuner%20%E4%B9%8B%E4%BD%BF%E7%94%A8/","title":"KerasTuner \u7684\u4f7f\u7528","text":"<p>\u672c\u6587\u6b63\u5728\u7f16\u5199\u4e2d</p> <p>\u58f0\u660e</p> <p>\u7531\u4e8e\u8be5\u6587\u7ae0\u4e3a\u672c\u4eba\u5927\u4e00\u65f6\u4e3a\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u5b66\u4e60\u9700\u8981\u800c\u521b\u4f5c\u3002\u7531\u4e8e\u4f5c\u8005\u624d\u758f\u5b66\u6d45\uff0c\u5728\u4e25\u8c28\u6027\u4e0a\u53ef\u80fd\u5b58\u5728\u7f3a\u9677\u3002</p> <p>\u672c\u6587\u7ae0\u4e3a\u6211\u4e3a\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u4e4b\u9700\u8981\uff0c\u5bf9 KerasTuner \u7684\u5b66\u4e60\u7b14\u8bb0\u3002\u90e8\u5206\u5185\u5bb9\u6458\u5f55\u3001\u7ffb\u8bd1\u81ea\u5176\u5b98\u65b9\u7f51\u7ad9\u3002</p> <p>KerasTuner \u662f\u4e00\u4e2a\u901a\u7528\u76ee\u7684\u7684\u8d85\u53c2\u6570\u8c03\u8282\u5e93\uff0c\u5b83\u548c Keras \u7684\u5de5\u4f5c\u6d41\u6709\u7740\u7d27\u5bc6\u7684\u96c6\u6210\u3002</p>"},{"location":"ai/20250127-KerasTuner%20%E4%B9%8B%E4%BD%BF%E7%94%A8/#fashion-mnist","title":"\u5bf9\u8bc6\u522b Fashion MNIST \u7684\u795e\u7ecf\u7f51\u7edc\u8c03\u8282\u8d85\u53c2\u6570","text":"<p>\u4ee5\u4e00\u4e2a\u7b80\u5355\u7684\u5355\u5c42\u795e\u7ecf\u7f51\u7edc\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u80fd\u8fd9\u6837\u7528 Keras \u63cf\u8ff0\u5b83\u7684\u6a21\u578b\uff1a</p> <pre><code>def build_model():\n    model = keras.Sequential()\n    model.add(layers.Flatten())\n    model.add(layers.Dense(128, activation='relu'))\n    model.add(layers.Dense(10, activation='softmax'))\n    return model\n</code></pre> <p>\u4f7f\u7528 KerasTuner \u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\uff0c\u7528 <code>hp.Int()</code>\u3001<code>hp.Float()</code>\u3001<code>hp.Choice()</code> \u7b49\u65b9\u6cd5\u4ee3\u66ff\u5177\u4f53\u7684\u6570\u5b57\uff0c\u5982\uff1a</p> <pre><code>def build_model(hp : keras_tuner.HyperParameters):\n    model = keras.Sequential()\n    model.add(layers.Flatten())\n    model.add(layers.Dense(\n        hp.Int('units', min_value=32, max_value=512),\n        activation=hp.Choice('activation', values=['relu', 'tanh', 'sigmoid']),\n    ))\n    model.add(layers.Dense(10, activation='softmax'))\n    return model\n</code></pre> <p>\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u7528 <code>RandomSearch</code>\u3001<code>BayesianOptimization</code>\u3001<code>Hyperband</code> \u7b49\u65b9\u6cd5\u8fdb\u884c\u641c\u7d22\uff0c\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u5728\u8fd9\u91cc\u6709\u5f88\u597d\u7684\u8bb2\u89e3\uff0c\u8fd9\u91cc\u5c31\u4e0d\u7ffb\u8bd1\u4e86\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","title":"Hugging Face \u4f7f\u7528\u65b9\u6cd5","text":"<p>\u672c\u6587\u6b63\u5728\u7f16\u5199\u4e2d</p> <p>\u58f0\u660e</p> <p>\u7531\u4e8e\u8be5\u6587\u7ae0\u4e3a\u672c\u4eba\u5927\u4e00\u65f6\u4e3a\u201c\u79d1\u5b66\u4e0e\u793e\u4f1a\u201d\u7814\u8ba8\u8bfe\u5b66\u4e60\u9700\u8981\u800c\u521b\u4f5c\u3002\u7531\u4e8e\u4f5c\u8005\u624d\u758f\u5b66\u6d45\uff0c\u5728\u4e25\u8c28\u6027\u4e0a\u53ef\u80fd\u5b58\u5728\u7f3a\u9677\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_1","title":"\u524d\u8a00","text":"<p>\u4e25\u683c\u4e0a\u6765\u8bf4\uff0c\u201c\u4f7f\u7528 AI \u505a\u81ea\u5df1\u60f3\u505a\u7684\u4e8b\u201d\u548c\u201c\u7406\u89e3\u3001\u5b66\u4e60 AI \u7684\u539f\u7406\u201d\u662f\u4e24\u4ef6\u622a\u7136\u4e0d\u540c\u7684\u4e8b\u60c5\u3002\u8fd9\u4e2a\u96be\u5ea6\u7684\u533a\u522b\u5c31\u597d\u6bd4\u5728 Steam \u4e0a\u4e0b\u8f7d\u300a\u9ed1\u795e\u8bdd\u00b7\u609f\u7a7a\u300b\u548c\u7f16\u5199\u8fd9\u6837\u7684\u6e38\u620f\u4e00\u6837\u3002</p> <p>\u4f7f\u7528 Hugging Face \u4e2d\u73b0\u6210\u7684\u6a21\u578b\u5b8c\u6210\u6587\u751f\u56fe\u3001\u56fe\u751f\u56fe\u7b49\u4efb\u52a1\u660e\u663e\u5c5e\u4e8e\u524d\u8005\uff0c\u5b83\u7684\u96be\u5ea6\u5e76\u4e0d\u6ca1\u6709\u5f88\u591a\u4eba\u60f3\u8c61\u4e2d\u7684\u90a3\u4e48\u5927\u3002\u6211\u4e66\u5199\u672c\u7bc7\u6587\u7ae0\u7684\u76ee\u7684\u5c31\u662f\u6765\u8bc1\u660e\u4f7f\u7528\u73b0\u6709\u7684\u5de5\u5177\u5b8c\u6210\u81ea\u5df1\u60f3\u5b8c\u6210\u7684\u4efb\u52a1\u5bf9\u4e8e\u6709\u4e00\u5b9a\u8ba1\u7b97\u673a\u57fa\u7840\u7684\u4eba\u6765\u8bf4\u5e76\u4e0d\u662f\u9065\u4e0d\u53ef\u53ca\u7684\u4e8b\u60c5\uff0c\u6070\u6070\u76f8\u53cd\u2014\u2014\u6211\u76f8\u4fe1\uff0c\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\uff0c\u4e2a\u6027\u5316\u8ba1\u7b97 (personalized computing) \u5c06\u4f1a\u9010\u6e10\u8d70\u8fd1\u73b0\u5b9e\uff0c\u4eba\u4eec\u5c06\u4f1a\u5bf9\u4ed6\u4eec\u5468\u56f4\u7684\u7535\u5b50\u4ea7\u54c1\u6709\u66f4\u591a\u7684\u81ea\u4e3b\u6743\u548c\u63a7\u5236\u6743\uff0c\u80fd\u591f\u719f\u7ec3\u7684\u8fd0\u7528\u7535\u5b50\u4ea7\u54c1\u5b8c\u6210\u81ea\u5df1\u60f3\u505a\u7684\u4e8b\u60c5\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#diffusers","title":"\u4f7f\u7528 Diffusers \u8fdb\u884c\u6587\u751f\u56fe","text":"<p>\u58f0\u660e</p> <p>\u5982\u679c\u4f60\u60f3\u8981\u8fdb\u884c\u7684\u662f AI \u7ed8\u753b\uff0c\u800c\u540e\u7eed\u4e0d\u60f3\u4e0e Hugging Face \u6253\u592a\u591a\u4ea4\u9053\uff0c\u4e5f\u4e0d\u60f3\u8bad\u7ec3\u81ea\u5df1\u7684\u6a21\u578b\uff0c\u90a3\u4e48 Comfy UI \u662f\u4e00\u4e2a\u66f4\u597d\u7684\u9009\u62e9\uff0c\u8bf7\u76f4\u63a5\u5b66\u4e60\u5b83\uff0c\u5ffd\u7565\u672c\u6559\u7a0b\u3002</p> <p>\ud83e\udd17 Diffusers \u662f\u4e00\u4e2a\u7528\u4e8e\u751f\u6210\u56fe\u50cf\u3001\u97f3\u9891\u751a\u81f3\u5206\u5b503D\u7ed3\u6784\u7684\u6700\u5148\u8fdb\u9884\u8bad\u7ec3\u6269\u6563\u6a21\u578b\u7684\u9996\u9009\u5e93\u3002\u65e0\u8bba\u60a8\u662f\u5728\u5bfb\u627e\u4e00\u4e2a\u7b80\u5355\u7684\u63a8\u7406\u89e3\u51b3\u65b9\u6848\uff0c\u8fd8\u662f\u60f3\u8bad\u7ec3\u81ea\u5df1\u7684\u6269\u6563\u6a21\u578b\uff0c\ud83e\udd17 Diffusers \u90fd\u662f\u4e00\u4e2a\u652f\u6301\u4e24\u8005\u7684\u6a21\u5757\u5316\u5de5\u5177\u7bb1\u3002\u6211\u4eec\u7684\u5e93\u8bbe\u8ba1\u65f6\u6ce8\u91cd\u53ef\u7528\u6027\u800c\u975e\u6027\u80fd\uff0c\u7b80\u5355\u6027\u800c\u975e\u6613\u7528\u6027\uff0c\u4ee5\u53ca\u53ef\u5b9a\u5236\u6027\u800c\u975e\u62bd\u8c61\u6027\u3002</p> <p>\u2014\u2014\u4f7f\u7528 DeepSeek \u7ffb\u8bd1\u81ea Diffusers \u5b98\u65b9\u6559\u7a0b</p> <p>Hugging Face \u7684\u5b98\u7f51\u7ed9\u51fa\u4e86\u4e00\u90e8\u8be6\u7ec6\u7684 Diffusers \u5e93\u4f7f\u7528\u6559\u7a0b\u3002\u8fd9\u4e2a\u6559\u7a0b\u6db5\u76d6\u7684\u8303\u56f4\u5305\u62ec\u4ece\u4f7f\u7528\u73b0\u6210\u7684\u6a21\u578b\u751f\u6210\u56fe\u7247\uff0c\u5230\u4f7f\u7528\u6570\u636e\u8bad\u7ec3\u81ea\u5df1\u7684\u6a21\u578b\u7684\u5404\u65b9\u5404\u9762\uff08\u4e0d\u5305\u62ec\u539f\u7406\uff09\u3002\u5b98\u7f51\u4e0a\u7684\u6559\u7a0b\u975e\u5e38\u8be6\u7ec6\uff0c\u662f\u4f18\u79c0\u7684\u5b66\u4e60\u8d44\u6e90\u3002\u672c\u6587\u65e8\u5728\u4ece\u4e0e\u539f\u6559\u7a0b\u4e0d\u540c\u7684\u89d2\u5ea6\uff0c\u5373\u5b9e\u7528\u7684\u6001\u5ea6\uff0c\u6765\u770b\u5f85 Diffusers \u8fd9\u6b3e\u5de5\u5177\u3002</p> <p>\u9996\u5148\u6839\u636e\u6559\u7a0b\u5b89\u88c5\u597d Diffusers\uff0c\u8fd9\u662f\u4ee5\u4e0b\u6240\u6709\u5b9e\u8df5\u7684\u524d\u63d0\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_2","title":"\u4ece\u5c0f\u6a21\u578b\u5f00\u59cb","text":"<p>Pipeline \u662f Diffusers \u5e93\u4e3a\u6211\u4eec\u65b9\u4fbf\u8fd0\u884c\u5404\u79cd\u6a21\u578b\uff08\u4e0d\u9650\u4e8e\u6587\u751f\u56fe\u6a21\u578b\uff09\u63d0\u4f9b\u7684\u4e00\u4e2a\u6709\u7528\u7684\u5de5\u5177\u3002\u4ee5\u4e0b\u5927\u90e8\u5206\u5185\u5bb9\u7ffb\u8bd1\u81ea\u5b98\u65b9\u6559\u7a0b\u7684\u300a\u6982\u89c8\u300b\u90e8\u5206\uff0c\u5982\u679c\u60f3\u5bf9 Pipeline \u6709\u66f4\u6df1\u7684\u4e86\u89e3\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a Google Colab\u3002</p> <p>\u8bf7\u6ce8\u610f\u60a8\u7684\u663e\u5361\u5185\u5b58</p> <p>\u4ee5\u4e0b\u793a\u4f8b\u8981\u6c42 8 GB \u53ca\u4ee5\u4e0a\u7684\u663e\u5361\u5185\u5b58\u624d\u80fd\u6b63\u5e38\u8fd0\u884c\uff01\u5982\u679c\u4f60\u7684\u663e\u5361\u5185\u5b58\u4f4e\u4e8e\u8fd9\u4e2a\u503c\uff0c\u8bf7\u79fb\u6b65\u4e0b\u4e00\u8282\u3002</p> <p>\u8fd9\u662f\u5b98\u7f51\u4e2d\u6559\u7a0b\u4e2d\u7684\u7b2c\u4e00\u4e2a\u751f\u6210\u56fe\u7247\u7684\u793a\u4f8b\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u6d88\u8017\u4e86 7700 MiB \u7684\u663e\u5b58\uff08<code>nvidia-smi</code> \u4e2d\u7ed3\u679c\uff09\uff1a</p> <pre><code>from diffusers import DiffusionPipeline\n\npipeline = DiffusionPipeline.from_pretrained(\"stable-diffusion-v1-5/stable-diffusion-v1-5\", use_safetensors=True)\npipeline.to(\"cuda\")\nimage = pipeline(\"An image of a squirrel in Picasso style\").images[0]\nimage\n</code></pre> \u4e00\u5f20\u751f\u6210\u7ed3\u679c <p></p> <p>\u8fd9\u4e2a\u793a\u4f8b\u505a\u7684\u662f\uff1a</p> <ul> <li>\u7b2c\u4e09\u884c\u4ee3\u7801\u505a\u7684\u662f\u4ece Hugging Face \u5b98\u7f51\u7684\u5b58\u50a8\u5e93\u4e0a\u4e0b\u8f7d <code>stable-diffusion-v1-5</code> \u8fd9\u4e2a\u6a21\u578b\uff08\u5982\u679c\u672c\u5730\u6ca1\u6709\u7f13\u5b58\u7684\u8bdd\uff09\uff0c\u518d\u628a\u6a21\u578b\u52a0\u8f7d\u5230 <code>pipeline</code> \u91cc\u3002</li> <li>\u7b2c\u56db\u884c\u4ee3\u7801\u628a\u8fd9\u4e2a <code>pipeline</code> \u52a0\u8f7d\u5728\u82f1\u4f1f\u8fbe\u663e\u5361\u4e0a\u3002</li> <li>\u7b2c\u4e94\u884c\u4ee3\u7801\u6839\u636e\u63d0\u793a\u8bcd\uff0c\u8fd0\u884c\u8fd9\u4e2a <code>pipeline</code>\uff0c\u751f\u6210\u4e86\u4e00\u5f20\u56fe\u7247\u3002</li> <li>\u6700\u540e\u4e00\u884c\u4ee3\u7801\u5c55\u793a\u4e86\u8fd9\u5f20\u56fe\u7247\u3002</li> </ul> <p><code>DiffusionPipeline</code>\uff0c\u987e\u540d\u601d\u4e49\u5c31\u662f\u8fd0\u884c\u6269\u6563\u6a21\u578b (diffusion) \u6a21\u578b\u7684\u6d41\u6c34\u7ebf\uff0c\u8fd9\u662f\u771f\u54e5\u54e5 Diffusers \u5e93\u4e2d\u6700\u57fa\u672c\u7684 Pipeline\uff01\u4e5f\u5c31\u662f\u8bf4\uff0c\u5176\u4ed6\u6240\u6709\u7684\u201c\u6d41\u6c34\u7ebf\u201d\u90fd\u662f\u5b83\u7684\u6d3e\u751f\u3002\u51fa\u4e8e\u672c\u6587\u6027\u8d28\u539f\u56e0\uff0c\u8fd9\u91cc\u4e0d\u7528\u7bc7\u5e45\u4e13\u95e8\u4ecb\u7ecd\u4ec0\u4e48\u662f\u6269\u6563\u6a21\u578b\u3002\u5f88\u591a\u6a21\u578b\u5728 Diffusers \u5e93\u4e2d\u90fd\u6709\u76f8\u5e94\u7684 Pipeline\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684\u8868\u683c\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_3","title":"\u51cf\u5c11\u663e\u5b58\u4f7f\u7528","text":"<p>\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u521a\u624d\u7684 <code>stable-diffusion-v1-5</code> \u5df2\u7ecf\u662f\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u6a21\u578b\u4e86\u2014\u2014\u5728\u672a\u7ecf\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\u80fd\u591f\u5728 8GB \u663e\u5b58\u7684\u663e\u5361\u4e0a\u8fd0\u884c\u3002\u53ef\u662f\uff0cHugging Face \u8fd8\u6709\u90a3\u4e48\u591a\u6a21\u578b\u6ca1\u6709\u529e\u6cd5\u8fd0\u884c\u600e\u4e48\u529e\uff1f\uff08\u5982\u679c\u4f60\u5c1d\u8bd5\u5728\u5bb6\u7528\u7535\u8111\u4e0a\u8fd0\u884c\u8fc7\u5b98\u7f51\u4e0a\u7684\u6559\u7a0b\uff0c\u4f60\u53ef\u80fd\u78b0\u5230\u8fc7\u5f88\u591a <code>OutOfMemoryError</code>\uff09\u5e78\u8fd0\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u6a21\u578b\u672c\u8eab\u548c\u8fd0\u884c\u65b9\u5f0f\u4e0a\u5165\u624b\uff0c\u7f29\u5c0f\u8fd0\u884c\u6a21\u578b\u6240\u9700\u8981\u7684\u663e\u5b58\u5360\u7528\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_4","title":"\u91cf\u5316","text":"<p>\u91cf\u5316 (quantization) \u7684\u610f\u601d\u662f\uff0c\u7528\u8f83\u5c11\u7684\u4fe1\u606f\u6765\u8868\u793a\u6570\u636e\uff0c\u540c\u65f6\u5c3d\u91cf\u4e0d\u635f\u5931\u8fc7\u591a\u7684\u51c6\u786e\u6027\u3002\u6bd4\u5982\u8bf4\uff0c\u5982\u679c\u4e00\u4e2a\u6a21\u578b\u7684\u6743\u91cd\u4ee5 <code>torch.float32</code> \u5b58\u50a8\uff0c\u628a\u5b83\u4eec\u91cf\u5316\u4e3a <code>torch.float16</code> \u5c31\u53ef\u4ee5\u4f7f\u6a21\u578b\u5927\u5c0f\u51cf\u534a\uff0c\u4ece\u800c\u5bb9\u6613\u66f4\u5bb9\u6613\u5b58\u50a8\u5e76\u51cf\u5c11\u5185\u5b58\u4f7f\u7528\u3002\u8f83\u4f4e\u7684\u7cbe\u5ea6\u8fd8\u53ef\u4ee5\u52a0\u901f\u63a8\u7406\u8fc7\u7a0b\u3002\u8fd9\u7c7b\u65b9\u6cd5\u4e4b\u6240\u4ee5\u5e38\u7528\u662f\u56e0\u4e3a\u5728\u5f88\u591a\u673a\u5668\u5b66\u4e60\u6a21\u578b\u4e2d\uff0c\u53c2\u6570\u7684\u7cbe\u5ea6\u5e76\u4e0d\u91cd\u8981\uff08\u6216\u8005\u81f3\u5c11\u4e0d\u5904\u4e8e\u5173\u952e\u4f4d\u7f6e\uff09</p> <p>\u5177\u4f53\u91cf\u5316\u7684\u4f7f\u7528\u65b9\u6cd5\u53c2\u89c1 \u5b98\u65b9\u6587\u6863\u7684\u300a\u91cf\u5316\u300b\u7ae0\u8282\u3002\u91cf\u5316\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u9664\u4e86\u7528 16 \u4f4d\u6d6e\u70b9\u6570\u5176\u4e2d\u5b98\u65b9\u6587\u6863\u4e2d\u4ecb\u7ecd\u7684\u6709 bitsandbytes\u3001gguf \u548c torchao\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u6539\u8fdb\u4e86\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u4f7f\u7528\u4e86 16 \u4f4d\u6d6e\u70b9\u6570\u91cf\u5316\u4f18\u5316\u4ee5\u4e0a\u793a\u4f8b\u7684\u5185\u5b58\uff0c\u628a\u5185\u5b58\u5360\u7528\u4ece\u672a\u7ecf\u4f18\u5316\u7684 7700 MiB \u4f18\u5316\u5230\u4e86 3980 MiB\uff01</p> <pre><code>from diffusers import DiffusionPipeline\nimport torch\n\npipeline = DiffusionPipeline.from_pretrained(\n    \"stable-diffusion-v1-5/stable-diffusion-v1-5\",\n    torch_dtype=torch.bfloat16,\n    use_safetensors=True)\npipeline.to(\"cuda\")\nimage = pipeline(\"An image of a squirrel in Picasso style\").images[0]\nimage\n</code></pre> \u4e00\u5f20\u751f\u6210\u7ed3\u679c <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u91cf\u5316\u5e76\u6ca1\u6709\u660e\u663e\u5730\u964d\u4f4e\u751f\u6210\u8d28\u91cf\uff08\u867d\u7136\u8fd9\u5f20\u7167\u7247\u548c\u4e0a\u9762\u4e00\u5f20\u4e00\u6837\uff0c\u90fd\u662f\u7a0d\u5fae\u6311\u8fc7\u7684\uff0c\u4e0d\u592a\u4e25\u8c28\uff0c\u4f46\u662f\u7ed3\u8bba\u662f\u5bf9\u7684\uff09</p> <p>\u4f7f\u7528\u7cbe\u5fc3\u8bbe\u8ba1\u3001\u66f4\u52a0\u6fc0\u8fdb\u7684\u91cf\u5316\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5730\u4f18\u5316\u6a21\u578b\u5360\u7528\u7684\u5185\u5b58\uff0c\u5177\u4f53\u53c2\u89c1\u5b98\u65b9\u6587\u6863\u4e2d\u5173\u4e8e bitsandbytes \u7684\u4ecb\u7ecd\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_5","title":"\u5176\u5b83\u7684\u4f18\u5316\u65b9\u6cd5","text":"<p>\u5177\u4f53\u53c2\u89c1\u5b98\u65b9\u6587\u6863\u7684\u300a\u4f18\u5316\u5185\u5b58\u300b\u7ae0\u8282\uff0c\u4e0b\u9762\u662f\u5bf9\u8fd9\u4e9b\u4f18\u5316\u65b9\u6cd5\u7684\u6781\u5176\u7c97\u7565\u7684\u4ecb\u7ecd\uff1a</p> <ul> <li><code>pipeline.enable_vae_slicing()</code>\uff1a\u751f\u6210\u591a\u5f20\u56fe\u7247\u65f6\u5185\u5b58\u4e0d\u591f\u53ef\u4ee5\u91c7\u7528\u6b64\u9009\u9879\u3002</li> <li><code>pipeline.enable_vae_tiling()</code>\uff1a\u751f\u6210\u5f88\u5927\u7684\u56fe\u7247\u7684\u65f6\u5019\u53ef\u4ee5\u91c7\u7528\u6b64\u9009\u9879\u3002</li> <li><code>pipeline.enable_model_cpu_offload()</code> \u548c <code>pipeline.enable_sequential_cpu_offload()</code>\uff1a\u90fd\u662f\u628a\u90e8\u5206\u53c2\u6570\u5b58\u5728\u5185\u5b58\u91cc\uff0c\u6839\u636e\u9700\u8981\u201c\u642c\u8fd0\u201d\u5230\u663e\u5b58\u4e2d\u53bb\uff0c\u4f46\u8fd9\u4e24\u4e2a\u9009\u9879\u7684\u7a0b\u5ea6\u4e0d\u540c\uff0c\u540e\u8005\u5bf9\u663e\u5b58\u7684\u8282\u7701\u7a0b\u5ea6\u6700\u5927\uff0c\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u4e5f\u6700\u5927\u3002</li> </ul> <p>\u5b66\u4f1a\u8fd9\u4e9b\u4f18\u5316\u65b9\u6cd5\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u8fd0\u884c\u66f4\u5927\u7684\u6a21\u578b\u4e86\u3002</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_6","title":"\u5fae\u8c03\u6a21\u578b\u548c\u4e0a\u4f20\u81ea\u5df1\u7684\u6a21\u578b","text":"<p>\u6b64\u5904\u5185\u5bb9\u5f85\u5b8c\u6210</p>"},{"location":"ai/20250203-Hugging%20Face%20%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#hugging-face-cli","title":"Hugging Face CLI","text":"<p>\u6b64\u5904\u5185\u5bb9\u5f85\u5b8c\u6210</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/","title":"\u521d\u63a2 Web App \u5b9e\u73b0","text":"<p>\u672c\u6587\u6b63\u5728\u7f16\u5199\u4e2d\uff0c\u5e76\u4e14\u53ef\u80fd\u957f\u65f6\u95f4\u5904\u4e8e\u8fd9\u4e00\u72b6\u6001</p> <p>\u58f0\u660e</p> <p>\u7ecf\u8fc7\u4e24\u5929\u7684\u5b9e\u8df5\uff0c\u4f5c\u8005\u5df2\u7ecf\u53d1\u73b0\u5728\u73b0\u5728\u7684\u6761\u4ef6\u4e0b\uff0c\u628a\u6734\u7d20\u7684\u60f3\u6cd5\u8f6c\u5316\u4e3a\u4e00\u4e2a\u4f7f\u7528\u7684\u7a0b\u5e8f\u4ecd\u7136\u662f\u4e00\u4e2a\u590d\u6742\u7684\u8fc7\u7a0b\u3002</p> <p>\u76ee\u524d Copilot \u5df2\u7ecf\u53ef\u4ee5\u5728\u77ed\u65f6\u95f4\u5185\u751f\u6210\u521d\u59cb\u4ee3\u7801\uff0c\u4f46\u662f\u5bf9\u4e8e\u524d\u7aef\u754c\u9762\u7684\u7f16\u5199\uff0cCopilot \u8fd8\u662f\u76f8\u5f53\u65e0\u529b\u7684\u3002\u56e0\u4e3a Copilot \u662f\u6587\u5b57\u754c\u9762\uff0c\u4f60\u5f88\u96be\u51c6\u786e\u5730\u7528\u8bed\u8a00\u8868\u8fbe\u4f60\u5bf9\u524d\u7aef\u8bbe\u8ba1\u7684\u60f3\u6cd5\u3002\u8fd9\u4e00\u90e8\u5206\u6211\u4e5f\u8017\u8d39\u4e86\u5927\u91cf\u7684\u65f6\u95f4\u3002</p> <p>\u5f53\u524d\u8fd9\u4e2a\u8bfe\u7a0b\u66ff\u4ee3\u52a9\u624b\u8fd8\u505c\u7559\u5728\u201c\u5c55\u793a\u6240\u6709\u66ff\u4ee3\u5173\u7cfb\u201d\u7684\u9636\u6bb5\uff0c\u77ed\u65f6\u95f4\u5185\u4e0d\u6253\u7b97\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5f00\u53d1\u3002</p> <p>\u76f8\u4fe1\u5f88\u591a\u79d1\u5927\u7684\u5b66\u751f\u90fd\u7528\u8fc7Vtix\u5728\u7ebf\u7b54\u9898\u6765\u51c6\u5907\u5165\u5b66\u8003\u8bd5\u548c\u601d\u60f3\u9053\u5fb7\u4e0e\u6cd5\u6cbb\u7684\u673a\u8bd5\u3002</p> <p>\u4e0a\u8fc7\u8ba1\u7b97\u673a\u7a0b\u5e8f\u8bbe\u8ba1 A \u8fdb\u9636\u73ed\u7684\u540c\u5b66\u90fd\u5199\u8fc7\u5927\u4f5c\u4e1a\u3002\u5927\u4f5c\u4e1a\u7684\u96be\u5ea6\u76f8\u4fe1\u5927\u5bb6\u90fd\u6df1\u6709\u4f53\u4f1a\uff0c\u5f88\u591a\u4ee3\u7801\u52a8\u8f84\u51e0\u5343\u884c\u751a\u81f3\u4e0a\u4e07\u884c\u3002\u6bd4\u5982\u6211\u5199\u7684\u6e38\u620f\u300a\u86c7\u5377\u5377\u548c\u9c7c\u6446\u6446\u300b\u5c31\u6709 3000 \u884c\u4ee3\u7801\uff0c\u5176\u4e2d\u7f16\u5199\u8fc7\u7a0b\u4e2d\u8fd8\u5220\u9664\u4e86\u4e00\u534a\u7684\u6e90\u4ee3\u7801\u3002\u867d\u7136\u5f88\u591a\u5927\u4f5c\u4e1a\u5728\u5b9e\u73b0\u96be\u5ea6\u4e0a\u8fdc\u5927\u4e8eVtix\u5728\u7ebf\u7b54\u9898\u3001\u8717\u58f3\u6392\u8bfe\u5de5\u5177\uff0c\u4f46\u662f\u5728\u5b9e\u7528\u6027\u4e0a\u5374\u6ca1\u6709\u4e00\u4e2a\u53ef\u4ee5\u6bd4\u4e0a\u8fd9\u4e24\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5de5\u5177\u2014\u2014\u5f88\u591a\u5927\u4f5c\u4e1a\u5728\u5f00\u53d1\u5b8c\u6bd5\u540e\u5c31\u505c\u6b62\u7ef4\u62a4\u4e86\uff0c\u800c\u8fd9\u4e24\u4e2a\u5de5\u5177\u81f3\u4eca\u8fd8\u662f\u5728\u79d1\u5927\u6821\u56ed\u4e2d\u5e7f\u4e3a\u4eba\u77e5\u2014\u2014\u867d\u7136\u5b83\u4eec\u90fd\u662f\u540d\u526f\u5176\u5b9e\u7684\u201c\u8f7b\u91cf\u7ea7\u201d\u5de5\u5177\uff0c\u540e\u8005\u7684\u4ee3\u7801\u91cf\u751a\u53ea\u6709\u51e0\u767e\u884c\u3002</p> <p>\u8fd9\u4e24\u4e2a\u5728\u5b66\u6821\u53d7\u6b22\u8fce\u9879\u76ee\u7684\u4f8b\u5b50\u8868\u660e\uff0c\u5f00\u53d1\u9879\u76ee\u5e76\u4e0d\u8ffd\u6c42\u9879\u76ee\u672c\u8eab\u6709\u591a\u590d\u6742\uff0c\u800c\u662f\u8981\u80fd\u627e\u51c6\u7528\u6237\u7684\u9700\u6c42\u70b9\u3002\u8fd9\u4e00\u70b9\u5728 Github Copilot \u7b49\u4ee3\u7801\u8f85\u52a9\u751f\u6210\u5de5\u5177\u98de\u901f\u53d1\u5c55\u7684\u4eca\u5929\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u62c9\u4f4e\u4e86\u8f6f\u4ef6\u7f16\u5199\u7684\u95e8\u69db\u2014\u2014\u5b83\u4f7f\u5f97\u597d\u7684\u60f3\u6cd5\u3001\u597d\u7684\u70b9\u5b50\u80fd\u591f\u66f4\u5feb\u5730\u8f6c\u5316\u4e3a\u73b0\u5b9e\u3002</p> <p>\u5728\u8fd9\u4e2a\u5bd2\u5047\u4e4b\u9645\u6211\u5c31\u4ee5\u5e38\u89c1\u7684\u9759\u6001 Web App \u4e3a\u4f8b\uff0c\u63a2\u8ba8\u5982\u679c\u6709\u4e00\u4e2a\u597d\u7684\u70b9\u5b50\uff0c\u5982\u4f55\u5feb\u901f\u5730\u628a\u81ea\u5df1\u7684\u70b9\u5b50\u8f6c\u5316\u4e3a Web App\u3002</p> <p>\u7531\u4e8e\u535a\u4e3b\u672c\u4eba\u4e4b\u524d\u4ece\u6765\u6ca1\u6709\u63a5\u89e6\u8fc7 React, Vue \u7b49 Javascript \u6846\u67b6\uff08\u867d\u7136\u542c\u8bf4\u8fc7\u5b83\u4eec\u7684\u540d\u5b57\uff09\uff0c\u751a\u81f3\u6ca1\u6709\u4ec0\u4e48 Javascript \u7f16\u7a0b\u7684\u7ecf\u5386\u3002\u8fd9\u6b21\u521d\u63a2\u7684\u8fc7\u7a0b\u5e94\u8be5\u53ef\u4ee5\u5f88\u597d\u7684\u53cd\u6620\u521d\u5b66\u8005\u7b2c\u4e00\u6b21\u63a5\u89e6\u9759\u6001\u7f51\u9875\u5f00\u53d1\u7684\u5fc3\u7406\u72b6\u6001\uff0c\u4e5f\u5e0c\u671b\u80fd\u7ed9\u5176\u4ed6\u521d\u5b66\u8005\u5e26\u6765\u6307\u5f15\u7684\u4f5c\u7528\u3002</p> <p>\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u5c06\u5c3d\u53ef\u80fd\u5730\u4f7f\u7528 Github Copilot \u4f5c\u4e3a\u8f85\u52a9\u5de5\u5177\u7b80\u5316\u5f00\u53d1\u8fc7\u7a0b\u3002</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_1","title":"\u660e\u786e\u76ee\u6807","text":"<p>\u6211\u5c06\u4ee5\u4e00\u4e2a\u8bfe\u7a0b\u66ff\u4ee3\u52a9\u624b\u4e3a\u4f8b\uff0c\u63a2\u8ba8\u5982\u4f55\u7b80\u5355\u5730\u5b9e\u73b0\u4e00\u4e2a Web App\uff0c\u5c06\u60f3\u6cd5\u8f6c\u5316\u4e3a\u73b0\u5b9e\u3002\u73b0\u5728\u6211\u5148\u89e3\u91ca\u8bfe\u7a0b\u66ff\u4ee3\u52a9\u624b\u5177\u4f53\u662f\u4ec0\u4e48\u3002</p> <p>USTC \u6559\u52a1\u5904\u7f51\u7ad9\u2014\u2014\u516c\u5171\u67e5\u8be2\u2014\u2014\u66ff\u4ee3\u8bfe\u7a0b\u67e5\u8be2\u8fd9\u4e2a\u7f51\u7ad9\u4e2d\u5217\u4e3e\u4e86 USTC \u8bfe\u7a0b\u4e4b\u95f4\u7684\u66ff\u4ee3\u5173\u7cfb\u3002\u66ff\u4ee3\u5173\u7cfb\u5206\u4e3a\u4e24\u79cd\u2014\u2014\u540c\u7ea7\u66ff\u4ee3\u548c\u9ad8\u7ea7\u66ff\u4ee3\uff1b\u540c\u7ea7\u66ff\u4ee3\u5173\u7cfb\u8868\u793a A \u548c B \u4e24\u7ec4\u8bfe\u7a0b\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\uff0c\u800c\u9ad8\u7ea7\u66ff\u4ee3\u5173\u7cfb\u8868\u793a A \u8fd9\u7ec4\u8bfe\u7a0b\u53ef\u4ee5\u66ff\u4ee3 B \u8fd9\u7ec4\u8bfe\u7a0b\uff0c\u4f46\u53cd\u4e4b\u4e0d\u7136\u3002</p> <p>\uff08\u4e0b\u9762\u662f\u6211\u7684\u7406\u89e3\uff0c\u4e0d\u4e00\u5b9a\u662f\u6b63\u786e\u7684\uff09\u66ff\u4ee3\u5173\u7cfb\u53ef\u4ee5\u7528\u66ff\u6362\u6765\u7406\u89e3\uff0c\u6bd4\u5982\u8bf4\uff0c\u4f60\u9009\u62e9\u4e86 <code>A,B,C,D</code> \u56db\u7ec4\u8bfe\u7a0b\uff0c\u5b58\u5728\u4e00\u4e2a\u66ff\u4ee3\u5173\u7cfb <code>B,C&lt;-&gt;E,F</code>\uff0c\u8fd8\u6709\u4e00\u4e2a\u66ff\u4ee3\u5173\u7cfb <code>B&lt;-&gt;G</code>\uff0c\u90a3\u4e48 <code>A,B,C,D</code> \u7b49\u4ef7\u4e8e <code>A,E,F,D</code> \u6216\u8005 <code>A,G,C,D</code>\uff0c\u4f46\u662f\u4e0d\u7b49\u4ef7\u4e8e <code>A,G,E,F,D</code>\u3002\u603b\u4e4b\uff0c\u4e00\u95e8\u8bfe\u7a0b\u53ea\u80fd\u8ba1\u7b97\u4e00\u6b21\u3002</p> <p>\u6211\u8ba1\u5212\u5b9e\u73b0\u7684\u5e94\u7528\u662f\u4e00\u4e2a\u8bfe\u7a0b\u66ff\u4ee3\u52a9\u624b\u2014\u2014\u5c31\u662f\u8bf4\uff0c\u4ee5\u6559\u52a1\u5904\u5b98\u65b9\u67e5\u8be2\u754c\u9762\u4e3a\u8303\u672c\uff0c\u5b9e\u73b0\u5982\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u8fc7\u6ee4\u6389\u4e0d\u6d3b\u8dc3/\u4e0d\u5b58\u5728\u7684\u8bfe\u7a0b\uff0c\u5373\uff0c\u8fd1\u4e24\u5e74\u7684\u57f9\u517b\u65b9\u6848\u4e2d\u6ca1\u6709\u51fa\u73b0\u8fc7\u7684\u8bfe\u7a0b\u3002</li> <li>\u8f93\u5165\u4e00\u4e2a\u8bfe\u7a0b\u6216\u8005\u4e00\u7ec4\u8bfe\u7a0b\uff0c\u663e\u793a\u6240\u6709\u8ddf\u8fd9\u7ec4\u8bfe\u7a0b\u76f8\u5173\u7684\u66ff\u4ee3\u5173\u7cfb\uff08\u5305\u62ec\u80fd\u591f\u6839\u636e\u4f20\u9012\u6027\u63a8\u65ad\u51fa\u7684\u66ff\u4ee3\u5173\u7cfb\uff09</li> </ul> <p>\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u6839\u636e\u6559\u52a1\u5904\u5b98\u65b9\u7f51\u7ad9\u5f97\u5230\u7684\u8d44\u6599\uff0c\u9884\u5904\u7406\u51fa\u4e00\u5f20\u8fc7\u6ee4\u6389\u4e0d\u6d3b\u8dc3\u6216\u8005\u4e0d\u5b58\u5728\u7684\u8bfe\u7a0b\u540e\u7684\u6e05\u5355\u3002\u4e4b\u540e\u5728\u6267\u884c\u8fd9\u4e2a\u9759\u6001 Web App \u7684\u65f6\u5019\uff0c\u76f4\u63a5\u67e5\u8be2\u9884\u5904\u7406\u7684\u8868\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u4e2a\u505a\u6cd5\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u5f52\u7ea6\u7684\u601d\u60f3\uff0c\u5c06\u4e00\u4e2a\u590d\u6742\u7684\u95ee\u9898\u5316\u5f52\u4e3a\u4e00\u4e2a\u66f4\u7b80\u5355\u7684\u95ee\u9898\u3002\u6240\u4ee5\u4e5f\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u753b\u51fa\u5b9e\u73b0\u8fd9\u4e2a\u9879\u76ee\u7684\u8def\u7ebf\u56fe\uff1a</p> <ol> <li>\u5b9e\u73b0\u6559\u52a1\u5904\u66ff\u4ee3\u8bfe\u7a0b\u67e5\u8be2\u4e2d\u7684\u6700\u57fa\u672c\u529f\u80fd\uff0c\u5373\uff0c\u6839\u636e\u4e00\u5f20\u5217\u8868\u663e\u793a\u8bfe\u7a0b\u66ff\u4ee3\u5173\u7cfb\uff1b</li> <li>\u5b9e\u73b0\u6559\u52a1\u5904\u6559\u52a1\u5904\u66ff\u4ee3\u8bfe\u7a0b\u67e5\u8be2\u4e2d\u7684\u641c\u7d22\u529f\u80fd\uff0c\u5373\uff0c\u4f7f\u7528\u8bfe\u7a0b\u540d\u79f0\u4e0e\u7f16\u53f7\u67e5\u8be2\u4e0e\u5176\u6709\u5173\u7684\u66ff\u4ee3\u5173\u7cfb\uff1b</li> <li>\u5b9e\u73b0\u6570\u636e\u7684\u9884\u5904\u7406\uff0c\u6bd4\u5982\u8fc7\u6ee4\u4e0d\u6d3b\u8dc3/\u4e0d\u5b58\u5728\u7684\u8bfe\u7a0b\uff0c\u4ee5\u53ca\u8f93\u5165\u4e00\u4e2a\u8bfe\u7a0b\u6216\u8005\u4e00\u7ec4\u8bfe\u7a0b\uff0c\u663e\u793a\u6240\u6709\u8ddf\u8fd9\u7ec4\u8bfe\u7a0b\u76f8\u5173\u7684\u66ff\u4ee3\u5173\u7cfb\u3002</li> </ol>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_2","title":"\u7b2c\u4e00\u6b65\uff1a\u4e00\u4e2a\u663e\u793a\u66ff\u4ee3\u5173\u7cfb\u7684\u5217\u8868","text":"<p>\u6458\u8981</p> <p>\u901a\u8fc7\u7b80\u5355\u7684\u63d0\u793a\u8bcd\u4ea4\u6d41\uff0cCopilot \u5f88\u5feb\u751f\u6210\u4e86\u4e00\u4e2a\u5177\u6709\u57fa\u672c\u663e\u793a\u66ff\u4ee3\u5173\u7cfb\u529f\u80fd\u7684\u539f\u578b\u754c\u9762\u3002</p> <p>\u5148\u6839\u636eNext.js \u5b89\u88c5\u6559\u7a0b\u4e2d\u63d0\u4f9b\u7684\u65b9\u6cd5\uff0c\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a <code>ustc-csh</code> \u7684 <code>create-next-app@latest</code> \u6a21\u677f\u9879\u76ee\u3002</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#chatgpt","title":"\u51c6\u5907 ChatGPT \u63d0\u793a\u8bcd\u6da6\u8272\u5668","text":"<p>\u6211\u73b0\u5728\u5f00\u59cb\u4f7f\u7528 ChatGPT \u548c Github Copilot \u8fdb\u884c\u8f85\u52a9\u5f00\u53d1\u3002\u6211\u4eec\u8003\u8651\u8ba9 ChatGPT \u5148\u4fee\u6539\u6211\u7684\u63d0\u793a\u8bcd\uff0c\u518d\u628a\u4fee\u6539\u540e\u7684\u63d0\u793a\u8bcd\u5582\u7ed9 Copilot\uff0c\u4ee5\u4e0b\u662f\u6211\u8349\u62df\u7684\u7528\u4e8e\u201c\u4fee\u6539\u6211\u7684\u63d0\u793a\u8bcd\u201d\u7684 ChatGPT \u7684\u63d0\u793a\u8bcd\uff1a</p> <p>You are a professional prompt engineer especially experienced in prompting with AI code assistants. </p> <p>In the following conversations, I will give you some prompts I have written for Github Copilot Chat in VS Code, to assist the development of a static web application in Next.js and React. </p> <p>Because English is not my native language, the prompts may contain improper phrases or grammar mistakes. And your job is to eliminate them. Also, I'm not experienced in coding with AI, so you may have to modify the prompts to better elicit the performance of coding assistants. </p> <p>\u7531\u4e8e\u6709\u7814\u7a76\u8868\u660e\u4f7f\u7528\u793c\u8c8c\u7684\u8bed\u8a00\u6709\u52a9\u4e8e ChatGPT \u7b49\u5de5\u5177\u4ea7\u751f\u9ad8\u8d28\u91cf\u7684\u56de\u590d\uff0c\u6211\u4eec\u5148\u7528 ChatGPT \u5bf9\u8fd9\u4e00\u6bb5\u63d0\u793a\u8bcd\u8fdb\u884c\u4fee\u6539\uff0c\u8ba9\u63d0\u793a\u8bcd\u53d8\u5f97\u66f4\u52a0\u793c\u8c8c\uff0c\u4f7f\u7528\u63d0\u793a\u8bcd\uff1a</p> <p>Please rewrite the following paragraph to make it more polite:</p> <p>[OMMITTED]</p> <p>\u8f93\u5165 ChatGPT \u540e\uff0c\u6211\u5f97\u5230\u4e86\u4ee5\u4e0b\u4fee\u6539\u7248\u672c\u7684\u63d0\u793a\u8bcd\uff0c\u8fd9\u662f\u6211\u4e0e\u8fd9\u4e2a GPT \u7684\u804a\u5929\u8bb0\u5f55\uff1a</p> <p>You are a highly skilled prompt engineer with specialized experience in working with AI code assistants.</p> <p>In our upcoming discussions, I will be sharing some prompts I\u2019ve created for GitHub Copilot Chat within VS Code, which are intended to support the development of a static web application using Next.js and React.</p> <p>As English is not my first language, there may be occasional phrasing or grammatical errors in my prompts. I would greatly appreciate your assistance in correcting these. Additionally, since I am still learning to work effectively with AI coding assistants, I may need your expertise in adjusting the prompts to maximize their performance.</p> <p>\u5c06\u8fd9\u4e00\u4e2a\u63d0\u793a\u8bcd\u8f93\u5165\u65b0\u7684 ChatGPT \u5bf9\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u63d0\u793a\u8bcd\u6da6\u8272\u5668\u4e86\uff0c\u540e\u9762\u7531\u4e8e\u7bc7\u5e45\u539f\u56e0\uff0c\u6211\u53ea\u5217\u4e3e\u6211\u548c Github Copilot \u7684\u5bf9\u8bdd\uff0c\u5582\u7ed9 Copilot \u7684\u63d0\u793a\u8bcd\u5927\u591a\u5df2\u7ecf\u8fc7 ChatGPT \u6da6\u8272\u3002</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#copilot","title":"\u6b63\u5f0f\u4e0e Copilot \u5bf9\u8bdd","text":"<p>\u6211\uff1a</p> <p>@workspace I want to create a static web app using the create-next-app@latest template in this workspace.</p> <p>The app will read course substitution data from an attached list.json file. Each entry in this file represents a substitution scheme, where Course Group A can be swapped with Course Group B.</p> <p>The web app should display this data in a responsive grid layout, showing the substitution relationships clearly.</p> <p>Github Copilot:</p> <p>To create a static web app using the  <code>create-next-app@latest</code> template and display the course substitution data from <code>list.json</code> in a responsive grid layout, follow these steps:</p> <ol> <li>Initialize the Next.js project:    <pre><code>npx create-next-app@latest my-static-web-app\ncd my-static-web-app\n</code></pre></li> <li>Add <code>list.json</code> to the public directory: Place your <code>list.json</code> file in the public directory of your Next.js project.</li> <li>Modify page.tsx to fetch and display the data**: Update the <code>Home</code> component to fetch the data from <code>list.json</code> and display it in a responsive grid layout.</li> </ol> <pre><code>import { useEffect, useState } from 'react';\n\ninterface Course {\n  id: number;\n  cn: string;\n  en: string;\n  code: string;\n  period: number;\n  credits: number;\n}\n\ninterface Substitution {\n  id: number;\n  substituteCourses: Course[];\n  originalCourses: Course[];\n}\n\nexport default function Home() {\n  const [substitutions, setSubstitutions] = useState&lt;Substitution[]&gt;([]);\n\n  useEffect(() =&gt; {\n    fetch('/list.json')\n      .then((response) =&gt; response.json())\n      .then((data) =&gt; setSubstitutions(data));\n  }, []);\n\n  return (\n    &lt;div className=\"container mx-auto p-4\"&gt;\n      &lt;h1 className=\"text-2xl font-bold mb-4\"&gt;Course Substitutions&lt;/h1&gt;\n      &lt;div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\"&gt;\n        {substitutions.map((substitution) =&gt; (\n          &lt;div key={substitution.id} className=\"border p-4 rounded shadow\"&gt;\n            &lt;h2 className=\"text-xl font-semibold mb-2\"&gt;Substitution #{substitution.id}&lt;/h2&gt;\n            &lt;div&gt;\n              &lt;h3 className=\"font-medium\"&gt;Original Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.originalCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n            &lt;div className=\"mt-2\"&gt;\n              &lt;h3 className=\"font-medium\"&gt;Substitute Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.substituteCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <ol> <li>Add Tailwind CSS for styling:    Install Tailwind CSS and configure it in your project.</li> </ol> <pre><code>npm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n</code></pre> <p>Update <code>tailwind.config.js</code>:    <pre><code>/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx}',\n    './components/**/*.{js,ts,jsx,tsx}',\n    './app/**/*.{js,ts,jsx,tsx}',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n</code></pre></p> <p>Add Tailwind directives to your CSS file (<code>app/globals.css</code>):    <pre><code>@tailwind base;\n@tailwind components;\n@tailwind utilities;\n</code></pre></p> <ol> <li>Run the development server:    <pre><code>npm run dev\n</code></pre></li> </ol> <p>Now, your Next.js app should fetch the course substitution data from <code>list.json</code> and display it in a responsive grid layout.</p> <p>\u6211\uff1a</p> <p>@workspace /fix  ./app/page.tsx:1:21 Ecmascript file had an error</p> <p>1 | import { useEffect, useState } from 'react';     |                     ^^^^^^^^   2 |   3 | interface Course {   4 |   id: number;</p> <p>You're importing a component that needs <code>useState</code>. This React hook only works in a client component. To fix, mark the file (or its parent) with the <code>\"use client\"</code> directive.</p> <p>Learn more: https://nextjs.org/docs/app/api-reference/directives/use-client </p> <p>Github Copilot\uff1a</p> <p>You're importing a component that needs <code>useState</code>. This React hook only works in a client component. To fix, mark the file (or its parent) with the <code>\"use client\"</code> directive.</p> <p>Learn more: https://nextjs.org/docs/app/api-reference/directives/use-client</p> <p>Workspace: To fix the error, you need to add the <code>\"use client\"</code> directive at the top of your <code>page.tsx</code> file. This will ensure that the file is treated as a client component, allowing the use of React hooks like <code>useState</code> and <code>useEffect</code>.</p> <p>Here is the updated code:</p> <pre><code>\"use client\";\n\nimport { useEffect, useState } from 'react';\n\ninterface Course {\n  id: number;\n  cn: string;\n  en: string;\n  code: string;\n  period: number;\n  credits: number;\n}\n\ninterface Substitution {\n  id: number;\n  substituteCourses: Course[];\n  originalCourses: Course[];\n}\n\nexport default function Home() {\n  const [substitutions, setSubstitutions] = useState&lt;Substitution[]&gt;([]);\n\n  useEffect(() =&gt; {\n    fetch('/list.json')\n      .then((response) =&gt; response.json())\n      .then((data) =&gt; setSubstitutions(data));\n  }, []);\n\n  return (\n    &lt;div className=\"container mx-auto p-4\"&gt;\n      &lt;h1 className=\"text-2xl font-bold mb-4\"&gt;Course Substitutions&lt;/h1&gt;\n      &lt;div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\"&gt;\n        {substitutions.map((substitution) =&gt; (\n          &lt;div key={substitution.id} className=\"border p-4 rounded shadow\"&gt;\n            &lt;h2 className=\"text-xl font-semibold mb-2\"&gt;Substitution #{substitution.id}&lt;/h2&gt;\n            &lt;div&gt;\n              &lt;h3 className=\"font-medium\"&gt;Original Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.originalCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n            &lt;div className=\"mt-2\"&gt;\n              &lt;h3 className=\"font-medium\"&gt;Substitute Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.substituteCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>Github Copilot\uff1a</p> <p>To fix the error, you need to add the <code>\"use client\"</code> directive at the top of your <code>page.tsx</code> file. This will ensure that the file is treated as a client component, allowing the use of React hooks like <code>useState</code> and <code>useEffect</code>.</p> <p>Here is the updated code:</p> <pre><code>\"use client\";\n\nimport { useEffect, useState } from 'react';\n\ninterface Course {\n  id: number;\n  cn: string;\n  en: string;\n  code: string;\n  period: number;\n  credits: number;\n}\n\ninterface Substitution {\n  id: number;\n  substituteCourses: Course[];\n  originalCourses: Course[];\n}\n\nexport default function Home() {\n  const [substitutions, setSubstitutions] = useState&lt;Substitution[]&gt;([]);\n\n  useEffect(() =&gt; {\n    fetch('/list.json')\n      .then((response) =&gt; response.json())\n      .then((data) =&gt; setSubstitutions(data));\n  }, []);\n\n  return (\n    &lt;div className=\"container mx-auto p-4\"&gt;\n      &lt;h1 className=\"text-2xl font-bold mb-4\"&gt;Course Substitutions&lt;/h1&gt;\n      &lt;div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\"&gt;\n        {substitutions.map((substitution) =&gt; (\n          &lt;div key={substitution.id} className=\"border p-4 rounded shadow\"&gt;\n            &lt;h2 className=\"text-xl font-semibold mb-2\"&gt;Substitution #{substitution.id}&lt;/h2&gt;\n            &lt;div&gt;\n              &lt;h3 className=\"font-medium\"&gt;Original Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.originalCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n            &lt;div className=\"mt-2\"&gt;\n              &lt;h3 className=\"font-medium\"&gt;Substitute Courses:&lt;/h3&gt;\n              &lt;ul className=\"list-disc list-inside\"&gt;\n                {substitution.substituteCourses.map((course) =&gt; (\n                  &lt;li key={course.id}&gt;\n                    {course.cn} ({course.en}) - {course.code}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u6548\u679c\u8fd8\u662f\u5f88\u5f00\u5e55\u96f7\u51fb\u7684\uff1a\u5728\u4e00\u6b21\u4fee\u6539\u9519\u8bef\u4e4b\u540e\uff0cCopilot \u5c31\u7ed9\u51fa\u4e86\u4e00\u4e2a\u57fa\u672c\u7684\u5217\u4e3e\u800c\u8bfe\u7a0b\u66ff\u4ee3\u5173\u7cfb\u7684\u754c\u9762\u3002\u603b\u4f53\u6548\u679c\u8fd8\u662f\u633a\u4ee4\u4eba\u6ee1\u610f\u7684\u3002</p> <p></p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_3","title":"\u7b2c\u4e8c\u6b65\uff1a\u533a\u5206\u540c\u7ea7\u66ff\u4ee3\u4e0e\u9ad8\u7ea7\u66ff\u4ee3","text":"<p>\u6458\u8981</p> <p>\u6211\u7814\u7a76\u4e86\u66ff\u4ee3\u8bfe\u7a0b\u67e5\u8be2\u754c\u9762\u7684\u6e90\u7801\uff0c\u53d1\u73b0\u540c\u7ea7\u66ff\u4ee3\u7684\u5b58\u50a8\u65b9\u5f0f\u5c31\u662f\u4e24\u4e2a\u4e0d\u540c\u65b9\u5411\u7684\u9ad8\u7ea7\u66ff\u4ee3\u3002</p> <p>\u5bf9\u4e8e\u60f3\u76f4\u63a5\u77e5\u9053\u7b54\u6848\u7684\u4eba\uff0c\u5224\u5b9a\u7684\u65b9\u6cd5\u662f\uff1a\u5982\u679c\u4e00\u7ec4\u5173\u7cfb\u5728\u5217\u8868\u4e2d\u51fa\u73b0\u4e86\u4e24\u904d\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u76f8\u4e92\u66ff\u4ee3\u5173\u7cfb\uff0c\u5426\u5219\u5c31\u662f\u9ad8\u7ea7\u66ff\u4ee3\u5173\u7cfb\u3002</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_4","title":"\u5206\u6790\u540c\u7ea7\u66ff\u4ee3\u548c\u9ad8\u7ea7\u66ff\u4ee3\u7684\u5224\u5b9a","text":"<p>\u73b0\u5728\u5b58\u5728\u7684\u4e00\u4e2a\u201c\u5c0f\u201d\u95ee\u9898\u662f\uff1a\u627e\u4e0d\u5230\u540c\u7ea7\u66ff\u4ee3\u548c\u9ad8\u7ea7\u66ff\u4ee3\u7684\u5224\u5b9a\u4f9d\u636e\u3002\u5728\u66ff\u4ee3\u8bfe\u7a0b\u67e5\u8be2\u9875\u9762\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u5e76\u7528 Network \u5de5\u5177\u76d1\u63a7\u6d41\u91cf\uff0c\u80fd\u591f\u53d1\u73b0\u5b66\u6821\u66ff\u4ee3\u5173\u7cfb\u6570\u636e\u7684 Json \u5b58\u50a8\u5728\u8be5\u94fe\u63a5\u4e2d\uff08\u9700\u8981 Cookie \u624d\u80fd\u8bbf\u95ee\uff09\uff0c\u8fd9\u4e2a\u5730\u5740\u4e0b\u7684 <code>list.json</code> \u662f\u4e0d\u5305\u62ec\u66ff\u4ee3\u7b49\u7ea7\u7684\u3002</p> <p>\u89e3\u51b3\u7684\u65b9\u6cd5\u6709\u4e24\u4e2a\uff1a</p> <ol> <li>\u4e0d\u7528 <code>list.json</code>\uff0c\u800c\u662f\u76f4\u63a5\u5728\u66ff\u4ee3\u8bfe\u7a0b\u754c\u9762\u722c\u53d6\u66ff\u4ee3\u5173\u7cfb\u4fe1\u606f\u3002\u4f18\u70b9\u662f\u76f4\u89c2\uff0c\u65b9\u4fbf\uff1b</li> <li>\u5206\u6790\u6e32\u67d3\u754c\u9762\u4f7f\u7528\u7684 JavaScript \u4ee3\u7801\uff0c\u627e\u51fa\u5224\u5b9a\u66ff\u4ee3\u5173\u7cfb\u4e3a\u540c\u7ea7\u66ff\u4ee3\u8fd8\u662f\u9ad8\u7ea7\u66ff\u4ee3\u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u8f83\u96be\u3002</li> </ol> <p>\u6211\u9009\u62e9\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u3002\u5b66\u6821\u7684\u6559\u52a1\u5904\u516c\u5171\u67e5\u8be2\u7f51\u7ad9\u662f\u7528 Vue \u5f00\u53d1\u7684\uff0c\u6e32\u67d3\u754c\u9762\u6240\u7528\u5230\u7684 JavaScript \u6e90\u4ee3\u7801\u96c6\u4e2d\u5728\u4e00\u4e2a 500 \u591a kB \u5927\uff0c\u540d\u53eb <code>index-BF8iaBe7.js</code> \u7684\u6587\u4ef6\u91cc\uff0c\u662f\u7528 Vue \u751f\u6210\u7684\uff08\u597d\u5728\u6df7\u6dc6\u4e0d\u591a\uff09\uff0c\u975e\u5e38\u96be\u4ee5\u8bfb\u61c2\u3002\u60f3\u8981\u4ece\u8fd9\u4e2a\u6587\u4ef6\u9006\u5411\u5de5\u7a0b\u5f97\u5230\u6e32\u67d3\u65b9\u5f0f\uff0c\u60f3\u5fc5\u5341\u5206\u56f0\u96be\u3002\u8003\u8fc7\u8ba1\u7b97\u673a\u7a0b\u5e8f\u8bbe\u8ba1 A \u671f\u672b\u8003\u8bd5\u7684\u540c\u5b66\u53ef\u80fd\u4f1a\u89c9\u5f97\uff0c\u8fd9\u7b80\u76f4\u5c31\u662f\u9605\u8bfb\u7a0b\u5e8f\u9898\u8d85\u7ea7\u52a0\u5f3a\u7248\u3002</p> <p>\u4f46\u662f\u627e\u5230\u7b54\u6848\u4e4b\u540e\u4f1a\u604d\u7136\u5927\u609f\u3002\u6211\u6253\u5f00 <code>index-BF8iaBe7.js</code> \u540e\uff0c\u7528 Prettier \u5c06\u5176\u683c\u5f0f\u5316\u540e\uff0c\u901a\u8fc7\u641c\u7d22 <code>substituteCourses</code>\uff08\u90e8\u5206\u53d8\u91cf\u540d\u6ca1\u6709\u6df7\u6dc6\u7684\u597d\u5904\uff09\uff0c\u6211\u4eec\u627e\u5230\u4e86\u7b2c 17981-17997 \u884c\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>aO = (e) =&gt; {\n    let t = te.sortBy(e.map(oO), (s) =&gt; s.substituteCourses[0].code),\n      n = [];\n    return (\n      t.forEach((s) =&gt; {\n        let o = n.find(\n          (i) =&gt;\n            i.substituteCourses.map((l) =&gt; l.code).join(\" \") ===\n              s.originalCourses.map((l) =&gt; l.code).join(\" \") &amp;&amp;\n            i.originalCourses.map((l) =&gt; l.code).join(\" \") ===\n              s.substituteCourses.map((l) =&gt; l.code).join(\" \")\n        );\n        o ? (o.interchangeable = !0) : n.push(s);\n      }),\n      n\n    );\n  },\n</code></pre> <p>\u4ee3\u7801\u5f88\u96be\u61c2\uff0c\u4f46\u662f\u4f7f\u7528 VS Code \u7684 Copilot Explain \u529f\u80fd\u5904\u7406\u4e4b\u540e\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a</p> <p>Copilot\uff1a</p> <p>The function <code>aO</code> is an arrow function that processes an array <code>e</code> of objects, presumably representing courses with their substitutes. The function begins by mapping each element of <code>e</code> through a function <code>oO</code> and then sorting the resulting array by the code of the first substitute course in each element. This sorted array is stored in the variable <code>t</code>.</p> <p>Next, an empty array <code>n</code> is initialized to store the processed results. The function then iterates over each element <code>s</code> in the sorted array <code>t</code> using the <code>forEach</code> method. For each element <code>s</code>, it attempts to find an existing element <code>o</code> in the array <code>n</code> that has the same set of substitute courses and original courses, based on their codes. This comparison is done by mapping the courses to their codes, joining them into a single string, and comparing these strings.</p> <p>If a matching element <code>o</code> is found, the property <code>interchangeable</code> of <code>o</code> is set to <code>true</code>. If no matching element is found, the current element <code>s</code> is added to the array <code>n</code>. Finally, the function returns the array <code>n</code>, which now contains the processed and possibly modified elements from the original array <code>e</code>.</p> <p>This function essentially groups courses based on their substitute and original courses, marking them as interchangeable if they match certain criteria.</p> <p>\u4ece\u89e3\u91ca\u91cc\u6211\u4eec\u53ef\u4ee5\u6a21\u6a21\u7cca\u7cca\u5730\u731c\u5230\uff1a\u5982\u679c\u4e00\u4e2a\u66ff\u4ee3\u5173\u7cfb\u5728 JSON \u6587\u4ef6\u4e2d\u51fa\u73b0\u4e86\u4e24\u904d\uff0c\u987a\u5e8f\u76f8\u53cd\uff0c\u90a3\u4e48\u8fd9\u4e24\u7ec4\u8bfe\u7a0b\u4e4b\u95f4\u5c31\u53ef\u4ee5\u76f8\u4e92\u66ff\u4ee3\uff0c\u5426\u5219\u5c31\u662f\u9ad8\u7ea7\u66ff\u4ee3\u3002\u9a8c\u8bc1\u4e4b\u540e\uff0c\u53d1\u73b0\u771f\u7684\u662f\u8fd9\u4e2a\u6837\u5b50\uff01\u4ed4\u7ec6\u601d\u8003\u4e5f\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u79cd\u5b58\u50a8\u65b9\u5f0f\u5b9e\u9645\u4e0a\u662f\u5f88\u81ea\u7136\u7684\u3002</p>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_5","title":"\u52a8\u624b\u4fee\u6539\u4ee3\u7801","text":"<p>\u5982\u679c\u95ee\u6211\u4e3a\u4ec0\u4e48\u73b0\u5728\u4e0d\u7528 Copilot \u63d0\u793a\u8bcd\u4fee\u6539\u4ee3\u7801\uff0c\u6211\u7ed9\u51fa\u7684\u7406\u7531\u662f\uff1a\u73b0\u5728\u57fa\u672c\u7684\u6846\u67b6\u5df2\u7ecf\u642d\u6210\u4e86\uff0c\u5199\u63d0\u793a\u8bcd\u82b1\u7684\u65f6\u95f4\u592a\u957f\u3002</p> <p>\u6b64\u5904\u7684\u4e0d\u7528 Copilot \u63d0\u793a\u8bcd\u4fee\u6539\u4ee3\u7801\u5e76\u4e0d\u7b49\u4e8e\u4e0d\u4f7f\u7528 Copilot\uff0c\u4e00\u4e9b\u89e3\u91ca\u4ee3\u7801\uff0c\u63d0\u53d6\u51fd\u6570\u7b49\u529f\u80fd\u8fd8\u662f\u4f7f\u7528\u5f88\u591a\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u8fc7\u4e8e\u96f6\u788e\uff0c\u6b64\u5904\u4e0d\u518d\u5c55\u5f00\u4e86\u3002</p> <p>\u501f\u52a9 Github Copilot\uff0c\u6211\u5b9e\u73b0\u4e86\u53bb\u91cd\u7684 <code>mergeInterchangeable()</code> \u51fd\u6570\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>function mergeInterchangeable(substitution: Substitution[]): Substitution[] {\n  // If there exist two substitution rules\n  // A -&gt; B and B -&gt; A\n  // Merge them into a single interchangeable rule\n  const substitutionMap = new Map&lt;string, Substitution&gt;();\n\n  for(const sub of substitution) {\n    // Sort the course IDs to create a unique key\n    const keyOriginal = sub.originalCourses.map((course) =&gt; course.id).sort().join(\",\");\n    const keySubstitute = sub.substituteCourses.map((course) =&gt; course.id).sort().join(\",\");\n    let key: string;\n    if(keyOriginal &lt; keySubstitute) {\n      key = keyOriginal + \",\" + keySubstitute;\n    } else { \n      key = keySubstitute + \",\" + keyOriginal;\n    }\n    // If the key already exists, mark it as interchangeable\n    if(substitutionMap.has(key)) {\n      const existing = substitutionMap.get(key)!;\n      existing.interchangeable = true;\n    } else {\n      substitutionMap.set(key, sub);\n    }\n  }\n\n  return Array.from(substitutionMap.values());\n}\n</code></pre> <p>\u5e76\u5c06\u4e3b\u51fd\u6570\u4e2d\u8bfb\u53d6 <code>./list.json</code> \u7684\u51fd\u6570\u6539\u6210\u4e86\u8fd9\u6837\uff0c\u5728\u5bf9\u8bfb\u5230\u7684 JSON \u8fdb\u884c\u53bb\u91cd\u4e4b\u540e\u518d\u8fdb\u884c\u8d4b\u503c\uff1a</p> <pre><code>useEffect(() =&gt; {\n    fetch(\"/list.json\")\n      // Parse the response as JSON\n      .then((response) =&gt; response.json())\n      // Merge interchangeable substitutions\n      .then((rawData) =&gt; mergeInterchangeable(rawData))\n      .then((data) =&gt; setSubstitutions(data));\n  }, []);\n</code></pre>"},{"location":"app-development/20250121-%E5%88%9D%E6%8E%A2%20Web%20App%20%E5%AE%9E%E7%8E%B0/#_6","title":"\u7b2c\u4e09\u6b65\uff1a\u4f18\u5316\u754c\u9762","text":"<p>\u8fd9\u4e00\u6b65\u4e5f\u662f\u6700\u96be\u7684\u4e00\u6b65\uff0c\u56e0\u4e3a\u5728\u8fd9\u91cc Github Copilot \u771f\u7684\u5e2e\u4e0d\u4e86\u592a\u591a\u5fd9\u4e86\u3002\u4f18\u5316\u754c\u9762\u7684\u65b9\u6cd5\u4e3b\u8981\u9760\u4fee\u6539 Tailwind \u7684\u6807\u7b7e\uff0c\u6bd4\u5982\uff0c\u7ed9\u4e00\u4e2a <code>&lt;div&gt;</code> \u5bf9\u8c61\u5199\u4e0a <code>&lt;div class=\"bg-sky-100\"&gt;</code> \u4f1a\u5c06\u80cc\u666f\u53d8\u6210\u6d45\u84dd\u8272\u3002\u5728 Tailwind CSS \u5e93\u4e2d\uff0c\u6240\u6709\u7684\u5c5e\u6027\u8bbe\u7f6e\u90fd\u662f\u9760\u8fd9\u79cd\u6253\u6807\u7b7e\u7684\u65b9\u5f0f\u8fdb\u884c\u7684\u3002</p> <p>\u7531\u4e8e\u6211\u9700\u8981\u505a\u5230\u7684\u662f\u60f3\u8ba9\u5b83\u53d8\u6210\u4ec0\u4e48\u6837\u5b50\u5c31\u53d8\u6210\u4ec0\u4e48\u6837\u5b50\uff0c\u5728\u8fd9\u91cc Copilot \u53cd\u800c\u5e2e\u4e0d\u4e86\u4ec0\u4e48\u5fd9\u4e86\uff0c\u6bd4\u5982\u8981\u628a\u6587\u5b57\u8bbe\u6210\u7c97\u4f53\uff0c\u53d8\u6210\u84dd\u8272\uff0c\u52a0\u95f4\u8ddd\uff0c\u9700\u8981\u52a0\u4ec0\u4e48\u6837\u5b50\u7684\u6807\u7b7e\uff0c\u9700\u8981\u5728\u6587\u6863\u4e2d\u7ffb\u6765\u7ffb\u53bb\u3002\u52a0\u4e0a\u6211\u975e\u5e38\u4e0d\u719f\u7ec3\uff0c\u8fd9\u4e00\u4e2a\u6b65\u9aa4\u53ef\u80fd\u82b1\u8d39\u4e86\u6211\u6700\u957f\u7684\u65f6\u95f4\u3002\u505a\u5b8c\u8fd9\u6b65\u540e\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/","title":"Arch Linux \u5b89\u88c5\u4e0e\u914d\u7f6e","text":"<p>\u8fd9\u7bc7\u6587\u7ae0\u8bb0\u5f55\u4e86\u6211\u5b89\u88c5 Arch Linux \u7684\u7ecf\u8fc7\uff0c\u4ee5\u53ca\u7ef4\u62a4 Arch Linux \u7684\u4e00\u4e9b\u5c0f\u6280\u5de7\uff0c\u4ee5\u4fbf\u4e4b\u540e\u9047\u5230\u95ee\u9898\u65f6\u56de\u6eaf\u6211\u6700\u521d\u5b89\u88c5\u7684\u7ecf\u8fc7\u3002</p> <p>\u5b89\u88c5 Arch Linux \u5176\u5b9e\u5e76\u4e0d\u7b97\u56f0\u96be\uff0c\u56e0\u4e3a Arch Linux \u7684\u5b98\u7f51\u4e0a\u6709\u76f8\u5f53\u8be6\u7ec6\u7684\u5b89\u88c5\u6559\u7a0b\uff0c\u4f55\u51b5\u5b98\u65b9\u7684\u5b89\u88c5\u955c\u50cf\u91cc\u6709\u4e00\u4e2a\u81ea\u5e26\u7684\u201c\u56fe\u5f62\u5316\u201d\u5b89\u88c5\u5668<code>archinstall</code>\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_1","title":"\u5b89\u88c5\u7cfb\u7edf","text":"<p>\u5b98\u7f51\u4e0a\u7684\u6559\u7a0b\u5df2\u7ecf\u76f8\u5f53\u8be6\u7ec6\u4e86\uff0c\u6309\u7167\u8be5\u63d0\u793a\u4e0b\u8f7d\u597d\u955c\u50cf\uff0c\u5e76\u70e7\u5f55\u5230 U \u76d8\u4e2d\u3002</p> <p>\u6211\u4e0b\u9762\u7684\u5b89\u88c5\u65b9\u6cd5\u4f7f\u7528\u4e86 Arch \u5b98\u65b9\u63d0\u4f9b\u7684 <code>archinstall</code>\uff0c\u5bf9\u4e8e\u521d\u5b66\u8005\u914d\u7f6e\u4e00\u4e2a\u4f9b\u81ea\u5df1\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\uff08\u800c\u4e0d\u662f\u4f5c\u4e3a\u7ec3\u4e60\uff09\uff0c\u5efa\u8bae\u4f7f\u7528\u5b89\u88c5\u811a\u672c\u800c\u4e0d\u662f\u6309\u7167\u6559\u7a0b\u624b\u52a8\u5b89\u88c5\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u4f1a\u5ffd\u7565\u6389\u5b89\u88c5\u7cfb\u7edf\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u79cd\u79cd\u7ec6\u8282\u3002</p> <p>\u5b89\u88c5\u65f6\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u5148\u7528 <code>reflector --country=china &gt; /etc/pacman.d/mirrorlist</code> \u628a <code>mirrorlist</code> \u66f4\u6362\u6210\u56fd\u5185\u955c\u50cf\uff0c\u4e4b\u540e\u5728 <code>archinstall</code> \u754c\u9762\u4e0a\u4e0d\u8981\u7ba1 <code>Mirror Region</code> \u7684\u914d\u7f6e\u3002\u56e0\u4e3a\u5982\u679c\u4f60\u52a8\u4e86\u8fd9\u4e2a\u8bbe\u7f6e\uff0c\u4e4b\u540e\u5b89\u88c5\u7684\u8fc7\u7a0b\u4e2d <code>reflector</code> \u5c31\u53ef\u80fd\u7834\u574f\u539f\u6765\u7684\u955c\u50cf\u8bbe\u7f6e\uff0c\u5bfc\u81f4\u4e0b\u8f7d\u901f\u5ea6\u53d8\u6162\uff08\u539f\u56e0\u89c1 \u8fd9\u4e2a Github \u5e16\u5b50\uff09\u3002</li> <li>\u6587\u4ef6\u7cfb\u7edf\u9009 Btrfs\uff0c\u4e00\u8def\u9ed8\u8ba4\u8bbe\u7f6e\u5c31\u884c\u4e86\uff08\u4f46\u662f\u53ef\u4ee5 Disable Copy-on-Write\uff09</li> </ul> <p>\u8fd9\u6837\u9009\u597d\u684c\u9762\u73af\u5883\uff0c\u5b89\u88c5\u5b8c\u91cd\u65b0\u542f\u52a8\uff0c\u4e0d\u51fa\u5dee\u9519\u7684\u8bdd\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u5e26\u56fe\u5f62\u754c\u9762\u7684\u7cfb\u7edf\u4e86\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_2","title":"\u5b89\u88c5\u5de5\u5177","text":"<p>\u5148\u7528 <code>sudo pacman -Syu</code> \u5b89\u88c5\u597d <code>firefox</code> \u6d4f\u89c8\u5668\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_3","title":"\u4e2d\u6587\u652f\u6301","text":"<p>\u5148\u66f4\u65b0 <code>locale</code>\uff1a</p> <ul> <li><code>sudo vim /etc/locale.gen</code>\uff0c\u89e3\u9664 <code>zh-CN.UTF-8 UTF-8</code> \u524d\u7684\u6ce8\u91ca</li> <li><code>sudo locale-gen</code></li> </ul> <p>\u518d\u5b89\u88c5\u4e2d\u6587\u5b57\u4f53\uff1a</p> <pre><code>sudo pacman -Syu adobe-source-han-sans-cn-fonts\\\n    adobe-source-han-serif-cn-fonts\\ \n    noto-fonts-cjk wqy-microhei\\\n    wqy-microhei-lite wqy-bitmapfont\\\n    wqy-zenhei ttf-arphic-ukai\\\n    ttf-arphic-uming\n</code></pre> <p>Fcitx5 \u8f93\u5165\u6cd5\uff1a</p> <pre><code>pacman -Syu fcitx5-im\nsudo pacman -Syu fcitx5-im\nsudo pacman -Syu fcitx5-im fcitx5-chinese-addons\n</code></pre>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#windows","title":"\u5b89\u88c5 Windows \u5b57\u4f53","text":""},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_4","title":"\u5b89\u88c5\u5fc5\u8981\u7684\u5e94\u7528","text":"<p>\u7528 AUR \u8f85\u52a9\u5de5\u5177 <code>yay</code> \u7ba1\u7406 AUR \u5305\uff1a</p> <pre><code>sudo pacman -Syu git\ngit clone https://aur.archlinux.org/yay.git\ncd yay\nmakepkg -si\n</code></pre> <p>\u4e4b\u540e\u5c31\u53ef\u4ee5\u7528 <code>yay -Syu &lt;package name&gt;</code> \u5b89\u88c5\u60f3\u8981\u5b89\u88c5\u7684\u5e94\u7528\u4e86\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_5","title":"\u914d\u7f6e\u7cfb\u7edf\u7ef4\u62a4\u5de5\u5177","text":"<p>\u6ce8\u610f\uff0c\u7cfb\u7edf\u7ef4\u62a4\u662f\u76f8\u5f53\u91cd\u8981\u7684\uff01\u6bd4\u5982\u5982\u679c\u4f60\u5728\u65e5\u540e\u4f7f\u7528 Arch \u7684\u65f6\u5019\u4e0d\u5c0f\u5fc3\u9047\u5230\u4e86\u96be\u4ee5\u6062\u590d\u7684\u95ee\u9898\uff0c\u60f3\u8981\u56de\u6eda\u5230\u4e4b\u524d\u7684\u7248\u672c\uff0c\u5982\u679c\u4f60\u4e4b\u524d\u5df2\u7ecf\u505a\u597d\u4e86\u7cfb\u7edf\u5feb\u7167\uff0c\u89e3\u51b3\u95ee\u9898\u5c31\u4f1a\u65b9\u4fbf\u5f88\u591a\u3002\u518d\u6bd4\u5982\u8bf4\uff0c\u5982\u679c\u4f60\u60f3\u5728\u4e00\u53f0\u65b0\u7684\u7535\u8111\u4e0a\u5b89\u88c5 Arch\uff0c\u4f46\u60f3\u4fdd\u7559\u4f60\u81ea\u5df1\u7684\u914d\u7f6e\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u5408\u9002\u7684\u65b9\u6cd5\u505a\u4e86\u914d\u7f6e\u7ba1\u7406\uff0c\u8fd9\u4e2a\u6d41\u7a0b\u4e5f\u4f1a\u65b9\u4fbf\u5f88\u591a\u3002</p> <p>\u5177\u4f53\u7684\u7cfb\u7edf\u7ef4\u62a4\u89c1 \u5b98\u65b9 Wiki\uff0c\u4f46\u8fd9\u91cc\u6211\u4e5f\u7ed9\u51fa\u6211\u81ea\u5df1\u7684\u914d\u7f6e\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#snapper-btrfs","title":"\u4f7f\u7528 Snapper \u548c Btrfs \u955c\u50cf\u5236\u4f5c\u7cfb\u7edf\u5feb\u7167","text":"<p>Snapper \u662f\u4e00\u6b3e\u7cfb\u7edf\u5feb\u7167\u7ba1\u7406\u5de5\u5177\uff0c\u652f\u6301\u5236\u4f5c\u5feb\u7167\uff0c\u6062\u590d\u5feb\u7167\u548c\u81ea\u52a8\u5236\u4f5c\u5feb\u7167\uff0c\u5b89\u88c5\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>sudo pacman -Syu cronie # \u5148\u5b89\u88c5 cron\uff08\u5b9a\u65f6\u6267\u884c\u5de5\u5177\uff09\nsudo systemctl enable --now cronie # \u542f\u52a8 cron \u670d\u52a1\n\nsudo pacman -Syu snapper\n</code></pre> <p>\u4e4b\u540e\u5c31\u662f\u914d\u7f6e\u5feb\u7167\u5b58\u50a8\u7684\u76ee\u5f55\uff0c\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86 <code>archinstall</code> \u63a8\u8350\u7684 <code>Btrfs</code> \u5206\u533a\u5e03\u5c40\uff0c\u9700\u8981\u7528\u4ee5\u4e0b\u65b9\u6cd5\u624d\u80fd\u914d\u7f6e\uff08\u89c1\u5b98\u65b9\u6587\u6863 \u4e2d\u7684 Note\uff09\uff1a</p> <pre><code>sudo umount /.snapshots # \u89e3\u9664\u5bf9 /.snapshots \u7684\u6302\u8f7d\nsudo rm -rf /.snapshots\n\nsudo snapper -c root create-config / # \u751f\u6210\u5feb\u7167\u914d\u7f6e\n\nsudo btrfs subvolume delete /.snapshots\nsudo mount -o subvol=@.snapshots /dev/&lt;sdX&gt; /.snapshots/ # &lt;sdX&gt; \u5e94\u6362\u6210\u4f60\u7684 Btrfs \u5206\u533a\n</code></pre> <p>\u6b64\u65f6\u81ea\u52a8\u5feb\u7167\u5c31\u5df2\u7ecf\u914d\u7f6e\u597d\u4e86\uff0c\u5982\u679c\u8981\u4fee\u6539\u81ea\u52a8\u5feb\u7167\u7684\u4fdd\u5b58\u6570\u91cf\uff08\u591a\u5c11\u4e2a\u6bcf\u5c0f\u65f6\u5feb\u7167\uff0c\u6bcf\u65e5\u5feb\u7167\u2026\u2026\uff09\uff0c\u90a3\u4e48\u5728 <code>sudo vim /etc/snapper/configs/root</code> \u4e2d\u4fee\u6539\u5373\u53ef\u3002</p> <p>\u5e38\u7528\u7684\u7ba1\u7406\u547d\u4ee4\u6709\uff08\u66f4\u591a\u7684\u89c1\u5b98\u65b9\u6587\u6863\uff09\uff1a - <code>snapper -c &lt;config&gt; list</code>\uff1a\u5217\u4e3e\u6309\u7167 <code>config</code> \u914d\u7f6e\u5907\u4efd\u7684\u955c\u50cf\u3002 - <code>snapper -c &lt;config&gt; create --description &lt;desc&gt;</code>\uff1a\u624b\u52a8\u521b\u5efa\u4e00\u4e2a\u4fe1\u606f\u4e3a <code>desc</code> \u7684\u5feb\u7167\uff0c\u6ce8\u610f\u8fd9\u4e2a\u5feb\u7167\u4e0d\u4f1a\u88ab\u81ea\u52a8\u5220\u9664\u3002 - <code>snapper -c &lt;config&gt; create --command &lt;cmd&gt;</code>\uff1a\u6267\u884c <code>cmd</code> \u8fd9\u4e2a\u91cd\u8981\u547d\u4ee4\uff0c\u5e76\u5728\u547d\u4ee4\u6267\u884c\u524d\u548c\u6267\u884c\u540e\u521b\u5efa\u4e00\u5bf9\u5feb\u7167\u3002 - <code>snapper -c &lt;config&gt; delete N</code>\uff1a\u5220\u9664 <code>N</code> \u53f7\u5feb\u7167\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#aconfmgr","title":"\u7528 Aconfmgr \u7ba1\u7406\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5148 <code>yay -Syu aconfmgr-git</code> \u5b89\u88c5 Aconfmgr\u3002</p> <p>\u4e4b\u540e\u914d\u7f6e\u6392\u9664\u6e05\u5355\uff08<code>~/.config/aconfmgr/10-ignores.sh</code>\uff09\uff0c\u56e0\u4e3a\u6709\u4e9b\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u6ca1\u6709\u5fc5\u8981\u8fd8\u539f\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u8303\u7684\u6392\u9664\u6e05\u5355\uff1a</p> <pre><code># Btrfs snapshots\nIgnorePath '/.snapshots/*'\n# Boot binaries\nIgnorePath '/boot/*.img'\nIgnorePath '/boot/*/*.EFI'\nIgnorePath '/boot/*/*.efi'\nIgnorePath '/boot/vmlin*'\n# Certificate databases\nIgnorePath '/etc/ca-certificates/extracted/*'\nIgnorePath '/etc/ssl/certs/*'\nIgnorePath '/etc/pacman.d/gnupg/*'\n# Cache and generated files\nIgnorePath '/etc/*.cache'\nIgnorePath '/etc/*.gen'\n# Password files\nIgnorePath '/etc/*shadow*'\nIgnorePath '/usr/share/*'\n# Configuration database\nIgnorePath '/etc/dconf'\n# Mount files\nIgnorePath '*/.updated'\nIgnorePath '*/lost+found/*'\n# Opt packages (check that they don't include config)\nIgnorePath '/opt/*'\n# Binary libraries\nIgnorePath '/usr/lib/*'\n# Local binaries\nIgnorePath '/usr/local/include/*'\nIgnorePath '/usr/local/lib/*'\nIgnorePath '/usr/local/share/applications/mimeinfo.cache'\n# Var databases, logs, swap and temp files\nIgnorePath '/var/db/sudo'\nIgnorePath '/var/lib/*'\nIgnorePath '/var/log/*'\nIgnorePath '/var/swap*'\nIgnorePath '/var/tmp/*'\n</code></pre> <p><code>aconfmgr save</code> \u7684\u4f5c\u7528\u5c31\u662f\u5c06\u7cfb\u7edf\u4e2d\u6240\u6709\u53d8\u5316\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u50a8\u5230 <code>~/.config/aconfmgr/</code>\uff0c\u800c <code>aconfmgr apply</code> \u7684\u4f5c\u7528\u6b63\u597d\u76f8\u53cd\uff0c\u5c06 <code>~/.config/aconfmgr</code> \u4e2d\u7684\u6587\u4ef6\u6062\u590d\u5230\u7cfb\u7edf\u4e2d\u3002</p> <p>\u5199\u597d\u6392\u9664\u6e05\u5355\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6267\u884c <code>aconfmgr save</code> \u5236\u4f5c\u914d\u7f6e\u6587\u4ef6\u7684\u5907\u4efd\u4e86\u3002\u6ce8\u610f <code>aconfmgr</code> \u5e76\u4e0d\u652f\u6301\u56de\u6eda\uff0c\u9700\u8981\u6211\u4eec\u7528 Git \u7ef4\u62a4 <code>~/.config/aconfmgr</code> \u8fd9\u4e2a\u76ee\u5f55\uff0c\u624b\u52a8 Commit\uff0c\u624d\u80fd\u652f\u6301\u56de\u6eda\u529f\u80fd\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#systemd-boot-netbootxyz","title":"\u914d\u7f6e systemd-boot \u548c Netboot.xyz","text":"<p>\u5173\u4e8e Windows \u53cc\u7cfb\u7edf\u89c1\u5b98\u65b9\u6559\u7a0b\uff08\u82e5 Windows \u5728\u53e6\u5916\u4e00\u4e2a\u786c\u76d8\u4e0a\u5219\u9700\u8981\u6b64\u914d\u7f6e\uff09</p> <p>\u82e5\u8981\u652f\u6301\u8bb0\u4f4f\u4e0a\u6b21\u8fdb\u5165\u7684\u7cfb\u7edf\uff0c\u65b9\u6cd5\u662f\u5728 <code>/boot/loader/loader.conf</code> \u4e2d\u52a0\u5165 <code>default @saved</code>\u3002</p> <p>Netboot.xyz \u662f\u4e00\u4e2a\u5b9e\u7528\u5de5\u5177\uff0c\u652f\u6301\u5728\u542f\u52a8\u7684\u65f6\u5019\u52a0\u8f7d\u5404\u79cd\u7cfb\u7edf\uff0c\u4e3b\u8981\u7528\u4e8e\u7cfb\u7edf\u6551\u63f4\u3002\u4f7f\u7528\u7684\u65b9\u6cd5\u770b\u4e86 Arch Linux \u5bf9\u4e8e <code>systemd-boot</code> \u7684\u4ecb\u7ecd\u5e94\u8be5\u4e0d\u96be\u5b66\u4f1a\uff0c\u4f46\u662f\u4e0b\u9762\u8fd8\u662f\u5217\u51fa\u5177\u4f53\u65b9\u6cd5\uff1a</p> <pre><code># \u5728\u5b98\u7f51\u4e0a\u4e0b\u8f7d\u6700\u65b0\u7684 netboot.xyz \u955c\u50cf\nwget https://boot.netboot.xyz/ipxe/netboot.xyz.efi\n# \u5c06\u955c\u50cf\u62f7\u8d1d\u5230 EFI \u6587\u4ef6\u5939\u4e2d\nsudo mkdir /boot/EFI/network.xyz\nsudo cp netboot.xyz.efi /boot/EFI/netboot.xyz/\n# \u65b0\u5efa systemd-boot \u914d\u7f6e\u6587\u4ef6\nsudo vim /boot/loader/entries/netboot_xyz.conf\n</code></pre> <p>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>title   netboot.xyz Utilities\nefi     /EFI/netboot.xyz/netboot.xyz.efi\n</code></pre> <p>\u5199\u5165\u5b8c\u6210\u4ee5\u540e\uff0c\u4f7f\u7528 <code>bootctl list</code> \u68c0\u67e5\u65b0\u5efa\u7684 <code>netboot.xyz Utilities</code> \u662f\u5426\u5df2\u7ecf\u6210\u4e3a\u4e00\u9879\u65b0\u7684\u542f\u52a8\u914d\u7f6e\u3002</p>"},{"location":"linux/20250120-Arch%20Linux%20%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#_6","title":"\u5176\u4ed6\u7ef4\u62a4","text":"<p>\u7ef4\u62a4\u5df2\u5b89\u88c5\u7684\u7a0b\u5e8f\u5217\u8868\uff1a<code>pacman -Qqen &gt; pkglist.txt &amp;&amp; pacman -Qqem &gt; foreignpkglist.txt</code></p>"}]}